<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B2: åœŸæ˜Ÿç’°æ¨¡æ“¬èˆ‡äºŒç¶­é™£åˆ— | APCS å¤ªç©ºæ¢éšªèª²ç¨‹</title>
    <link rel="stylesheet" href="../../styles/main.css">
    <link rel="stylesheet" href="../../styles/lesson.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700;900&family=Fira+Code:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
</head>
<body>
    <!-- æ˜Ÿç©ºèƒŒæ™¯ -->
    <canvas id="starfield" class="starfield"></canvas>
    
    <!-- å°èˆªæ¬„ -->
    <nav class="lesson-nav glass">
        <div class="nav-content">
            <a href="../../index.html" class="back-btn">
                <span>â†</span>
                <span>è¿”å›èª²ç¨‹åœ°åœ–</span>
            </a>
            <div class="lesson-progress">
                <span class="progress-text">L2 - B2</span>
            </div>
            <div class="lesson-nav-buttons">
                <a href="../L2/B1.html" class="nav-btn prev-btn" >ä¸Šä¸€èª²</a>
                <a href="../L2/B3.html" class="nav-btn next-btn" >ä¸‹ä¸€èª²</a>
            </div>
        </div>
    </nav>

    <!-- ä¸»è¦å…§å®¹ -->
    <main class="lesson-container">
        <!-- å´é‚Šæ¬„ç›®éŒ„ -->
        <aside class="lesson-sidebar glass">
            <h3 class="sidebar-title">ğŸ“‹ æœ¬èª²å…§å®¹</h3>
            <nav class="sidebar-nav">
                <a href="#mission" class="sidebar-link active">ğŸš€ ä»»å‹™èƒŒæ™¯</a>
                <a href="#knowledge" class="sidebar-link">ğŸ“š çŸ¥è­˜é»èªªæ˜</a>
                <a href="#examples" class="sidebar-link">ğŸ’» ç¯„ä¾‹ç¨‹å¼ç¢¼</a>
                <a href="#explanation" class="sidebar-link">ğŸ” ç¨‹å¼ç¢¼è§£èªª</a>
                <a href="#quiz" class="sidebar-link">ğŸ“ Quiz</a>
                <a href="#solution" class="sidebar-link">âœ… è§£ç­”</a>
            </nav>
        </aside>

        <!-- èª²ç¨‹å…§å®¹ -->
        <article class="lesson-content">
            <!-- èª²ç¨‹æ¨™é¡Œ -->
            <header class="lesson-header">
                <div class="lesson-badge">
                    <span class="badge-icon">ğŸª</span>
                    <span class="badge-text">L2: æœ¨æ˜Ÿè»Œé“ç«™</span>
                </div>
                <h1 class="lesson-title text-glow">
                    B2: åœŸæ˜Ÿç’°æ¨¡æ“¬ï¼šäºŒç¶­é™£åˆ—èˆ‡çŸ©é™£æ“ä½œ
                </h1>
                <div class="lesson-meta">
                    <span class="meta-item">â±ï¸ é è¨ˆæ™‚é–“ï¼š4-5 å°æ™‚</span>
                    <span class="meta-item">ğŸ¯ ç›®æ¨™ç´šåˆ†ï¼š3 ç´šåˆ†</span>
                    <span class="meta-item">ğŸ“Š é›£åº¦ï¼šâ­â­â­â˜†â˜†</span>
                </div>
            </header>

            <!-- ä»»å‹™èƒŒæ™¯ -->
            <section id="mission" class="content-section">
                <h2 class="section-heading">
                    <span class="heading-icon">ğŸš€</span>
                    <span>ä»»å‹™èƒŒæ™¯</span>
                </h2>
                <div class="content-box glass">
                    <p>ä½ çš„æ¢éšªéšŠæ­£åœ¨æ¥è¿‘åœŸæ˜Ÿï¼ç‚ºäº†å®‰å…¨ç©¿è¶ŠåœŸæ˜Ÿç’°ï¼Œéœ€è¦å»ºç«‹ä¸€å€‹ä¸‰ç¶­ç©ºé–“æ¨¡æ“¬ç³»çµ±ã€‚åœŸæ˜Ÿç’°å¯ä»¥ç”¨äºŒç¶­ç¶²æ ¼è¡¨ç¤ºï¼Œæ¯å€‹æ ¼å­è¨˜éŒ„è©²å€åŸŸçš„å†°æ™¶å¯†åº¦ã€‚ä½ éœ€è¦å­¸æœƒè™•ç†é€™ç¨®ã€Œè¡¨æ ¼å¼ã€çš„æ•¸æ“šçµæ§‹ã€‚</p>
åœ¨é€™å€‹è¨“ç·´æ¨¡çµ„ä¸­ï¼Œä½ å°‡å­¸ç¿’ï¼š
<ul>
<li>äºŒç¶­é™£åˆ—ï¼ˆçŸ©é™£ï¼‰çš„å‰µå»ºèˆ‡æ“ä½œ</li>
<li>å‰ç¶´å’ŒæŠ€å·§ï¼šå¿«é€Ÿè¨ˆç®—å€åŸŸç¸½å’Œ</li>
<li>å·®åˆ†é™£åˆ—ï¼šé«˜æ•ˆè™•ç†å€é–“æ›´æ–°</li>
<li>çŸ©é™£éæ­·çš„å„ç¨®æ¨¡å¼</li>
</ul>
                </div>
            </section>

            <!-- çŸ¥è­˜é»èªªæ˜ -->
            <section id="knowledge" class="content-section">
                <h2 class="section-heading">
                    <span class="heading-icon">ğŸ“š</span>
                    <span>çŸ¥è­˜é»èªªæ˜</span>
                </h2>
                <div class="content-box glass">
                    <h3>ä»€éº¼æ˜¯äºŒç¶­é™£åˆ—ï¼Ÿ</h3>
<p>äºŒç¶­é™£åˆ—å°±åƒä¸€å€‹è¡¨æ ¼æˆ–æ£‹ç›¤ï¼Œæœ‰è¡Œï¼ˆrowï¼‰å’Œåˆ—ï¼ˆcolumnï¼‰ï¼š</p>
<pre><code class="language-python">    åˆ—0  åˆ—1  åˆ—2  åˆ—3
è¡Œ0  5    8    2    9
è¡Œ1  3    7    1    4
è¡Œ2  6    2    8    5
</code></pre>
<h3>å‰µå»ºäºŒç¶­é™£åˆ—</h3>
<pre><code class="language-python"># âœ… æ­£ç¢ºæ–¹æ³•ï¼šæ¯è¡Œéƒ½æ˜¯ç¨ç«‹çš„åˆ—è¡¨
matrix = [[0 for _ in range(cols)] for _ in range(rows)]
# âŒ éŒ¯èª¤æ–¹æ³•ï¼šæ‰€æœ‰è¡Œéƒ½æŒ‡å‘åŒä¸€å€‹åˆ—è¡¨ï¼
matrix_wrong = [[0] <em> cols] </em> rows  # å±éšªï¼
</code></pre>
<strong>ç‚ºä»€éº¼éŒ¯èª¤æ–¹æ³•å±éšªï¼Ÿ</strong>
<pre><code class="language-python">matrix = [[0] <em> 3] </em> 2
matrix[0][0] = 5
print(matrix)  # [[5, 0, 0], [5, 0, 0]] - å…©è¡Œéƒ½è¢«ä¿®æ”¹äº†ï¼
</code></pre>
<h3>å‰ç¶´å’Œï¼ˆPrefix Sumï¼‰</h3>
<p>å‰ç¶´å’Œæ˜¯ä¸€ç¨®ã€Œç©ºé–“æ›æ™‚é–“ã€çš„æŠ€å·§ï¼Œå¯ä»¥åœ¨ O(1) æ™‚é–“å…§è¨ˆç®—ä»»æ„å€é–“çš„ç¸½å’Œã€‚</p>
<strong>ä¸€ç¶­å‰ç¶´å’Œï¼š</strong>
<pre><code class="language-python">arr = [1, 2, 3, 4, 5]
# å‰ç¶´å’Œï¼š[0, 1, 3, 6, 10, 15]
# prefix[i] = arr[0] + arr[1] + ... + arr[i-1]
# è¨ˆç®— arr[1:4] çš„ç¸½å’Œ
sum_1_to_3 = prefix[4] - prefix[1]  # 9
</code></pre>
<h3>å·®åˆ†é™£åˆ—ï¼ˆDifference Arrayï¼‰</h3>
<p>å·®åˆ†é™£åˆ—ç”¨æ–¼é«˜æ•ˆè™•ç†ã€Œå€é–“å¢æ¸›ã€æ“ä½œï¼š</p>
<pre><code class="language-python"># å°å€é–“ [L, R] çš„æ‰€æœ‰å…ƒç´  +x
diff[L] += x
diff[R+1] -= x
# æœ€å¾Œé‚„åŸé™£åˆ—
for i in range(1, n):
    arr[i] = arr[i-1] + diff[i]
</code></pre>
                </div>
            </section>

            <!-- ç¯„ä¾‹ç¨‹å¼ç¢¼ -->
            <section id="examples" class="content-section">
                <h2 class="section-heading">
                    <span class="heading-icon">ğŸ’»</span>
                    <span>ç¯„ä¾‹ç¨‹å¼ç¢¼</span>
                </h2>
                <div class="content-box glass">
                    <h3>ç¯„ä¾‹ 1ï¼šåœŸæ˜Ÿç’°å¯†åº¦åœ°åœ–</h3>
<pre><code class="language-python">import sys
<p># ä»»å‹™ï¼šå‰µå»ºä¸¦é¡¯ç¤ºåœŸæ˜Ÿç’°å¯†åº¦åœ°åœ–
rows = int(sys.stdin.readline())
cols = int(sys.stdin.readline())</p>
<p># å‰µå»ºäºŒç¶­é™£åˆ—
density_map = []
for i in range(rows):
    row = list(map(int, sys.stdin.readline().strip().split()))
    density_map.append(row)</p>
<p># é¡¯ç¤ºåœ°åœ–
print("åœŸæ˜Ÿç’°å¯†åº¦åœ°åœ–ï¼š")
for i in range(rows):
    for j in range(cols):
        print(f"{density_map[i][j]:3}", end=" ")
    print()  # æ›è¡Œ</p>
<p># æ‰¾å‡ºæœ€å±éšªå€åŸŸï¼ˆå¯†åº¦æœ€é«˜ï¼‰
max_density = 0
danger_pos = (0, 0)</p>
<p>for i in range(rows):
    for j in range(cols):
        if density_map[i][j] > max_density:
            max_density = density_map[i][j]
            danger_pos = (i, j)</p>
print(f"\næœ€å±éšªå€åŸŸï¼šè¡Œ{danger_pos[0]} åˆ—{danger_pos[1]}")
print(f"å¯†åº¦ï¼š{max_density}")
</code></pre>
<h3>ç¯„ä¾‹ 2ï¼šçŸ©é™£è½‰ç½®ï¼ˆæ—‹è½‰è¦–è§’ï¼‰</h3>
<pre><code class="language-python">import sys
<p># ä»»å‹™ï¼šå°‡çŸ©é™£è½‰ç½®ï¼ˆè¡Œåˆ—äº’æ›ï¼‰
n = int(sys.stdin.readline())
matrix = []
for i in range(n):
    row = list(map(int, sys.stdin.readline().strip().split()))
    matrix.append(row)</p>
<p># å‰µå»ºè½‰ç½®çŸ©é™£
transposed = [[0 for _ in range(n)] for _ in range(n)]</p>
<p>for i in range(n):
    for j in range(n):
        transposed[j][i] = matrix[i][j]</p>
<p>print("åŸå§‹çŸ©é™£ï¼š")
for row in matrix:
    print(row)</p>
print("\nè½‰ç½®å¾Œï¼š")
for row in transposed:
    print(row)
</code></pre>
<h3>ç¯„ä¾‹ 3ï¼šå‰ç¶´å’Œ - å¿«é€Ÿå€åŸŸæŸ¥è©¢</h3>
<pre><code class="language-python">import sys
<p># ä»»å‹™ï¼šä½¿ç”¨å‰ç¶´å’Œå¿«é€Ÿè¨ˆç®—å­çŸ©é™£çš„ç¸½å’Œ
n = int(sys.stdin.readline())
matrix = []
for i in range(n):
    row = list(map(int, sys.stdin.readline().strip().split()))
    matrix.append(row)</p>
<p># å»ºç«‹äºŒç¶­å‰ç¶´å’Œ
# prefix[i][j] = å¾ (0,0) åˆ° (i-1,j-1) çš„çŸ©å½¢å€åŸŸç¸½å’Œ
prefix = [[0 for _ in range(n+1)] for _ in range(n+1)]</p>
<p>for i in range(1, n+1):
    for j in range(1, n+1):
        prefix[i][j] = (matrix[i-1][j-1] + 
                       prefix[i-1][j] + 
                       prefix[i][j-1] - 
                       prefix[i-1][j-1])</p>
# æŸ¥è©¢ï¼šè¨ˆç®—å¾ (r1,c1) åˆ° (r2,c2) çš„å­çŸ©é™£ç¸½å’Œ
q = int(sys.stdin.readline())  # æŸ¥è©¢æ¬¡æ•¸
for _ in range(q):
    r1, c1, r2, c2 = map(int, sys.stdin.readline().strip().split())
    
    # è½‰æ›ç‚º 1-indexed
    r1 += 1
    c1 += 1
    r2 += 1
    c2 += 1
    
    # ä½¿ç”¨å®¹æ–¥åŸç†è¨ˆç®—
    result = (prefix[r2][c2] - 
             prefix[r1-1][c2] - 
             prefix[r2][c1-1] + 
             prefix[r1-1][c1-1])
    
    print(f"å€åŸŸ ({r1-1},{c1-1}) åˆ° ({r2-1},{c2-1}) ç¸½å’Œï¼š{result}")
</code></pre>
<h3>ç¯„ä¾‹ 4ï¼šå·®åˆ†é™£åˆ— - éš•çŸ³é›¨æ¨¡æ“¬</h3>
<pre><code class="language-python">import sys
<p># ä»»å‹™ï¼šæ¨¡æ“¬å¤šæ¬¡éš•çŸ³é›¨å°åœŸæ˜Ÿç’°çš„å½±éŸ¿
n = int(sys.stdin.readline())  # å€åŸŸæ•¸é‡
density = [0] * n  # åˆå§‹å¯†åº¦éƒ½æ˜¯ 0</p>
<p># å·®åˆ†é™£åˆ—
diff = [0] * (n + 1)</p>
<p># è®€å–éš•çŸ³é›¨äº‹ä»¶
m = int(sys.stdin.readline())  # äº‹ä»¶æ•¸é‡
for _ in range(m):
    L, R, impact = map(int, sys.stdin.readline().strip().split())
    # å°å€é–“ [L, R] å¢åŠ  impact
    diff[L] += impact
    diff[R+1] -= impact</p>
<p># é‚„åŸå¯¦éš›å¯†åº¦
for i in range(n):
    if i == 0:
        density[i] = diff[i]
    else:
        density[i] = density[i-1] + diff[i]</p>
<p>print("æœ€çµ‚å¯†åº¦åˆ†å¸ƒï¼š")
print(density)</p>
# æ‰¾å‡ºæœ€å±éšªå€åŸŸ
max_density = max(density)
danger_zones = [i for i, d in enumerate(density) if d == max_density]
print(f"æœ€é«˜å¯†åº¦ï¼š{max_density}")
print(f"å±éšªå€åŸŸï¼š{danger_zones}")
</code></pre>
<h3>ç¯„ä¾‹ 5ï¼šèºæ—‹çŸ©é™£éæ­·</h3>
<pre><code class="language-python">import sys
<p># ä»»å‹™ï¼šä»¥èºæ—‹æ–¹å¼éæ­·çŸ©é™£ï¼ˆé †æ™‚é‡ï¼‰
n = int(sys.stdin.readline())
matrix = []
for i in range(n):
    row = list(map(int, sys.stdin.readline().strip().split()))
    matrix.append(row)</p>
<p>result = []
top, bottom = 0, n - 1
left, right = 0, n - 1</p>
<p>while top <= bottom and left <= right:
    # å‘å³
    for col in range(left, right + 1):
        result.append(matrix[top][col])
    top += 1
    
    # å‘ä¸‹
    for row in range(top, bottom + 1):
        result.append(matrix[row][right])
    right -= 1
    
    # å‘å·¦
    if top <= bottom:
        for col in range(right, left - 1, -1):
            result.append(matrix[bottom][col])
        bottom -= 1
    
    # å‘ä¸Š
    if left <= right:
        for row in range(bottom, top - 1, -1):
            result.append(matrix[row][left])
        left += 1</p>
print("èºæ—‹éæ­·çµæœï¼š")
print(result)
</code></pre>
                </div>
            </section>

            <!-- ç¨‹å¼ç¢¼è§£èªª -->
            <section id="explanation" class="content-section">
                <h2 class="section-heading">
                    <span class="heading-icon">ğŸ”</span>
                    <span>ç¨‹å¼ç¢¼è§£èªª</span>
                </h2>
                <div class="content-box glass">
                    <h3>é—œéµæŠ€è¡“é»</h3>
<ol>
<li><strong>äºŒç¶­é™£åˆ—çš„æ­£ç¢ºå‰µå»º</strong></li>
</ol>
   <pre><code class="language-python">   # æ¯æ¬¡è¿´åœˆéƒ½å‰µå»ºæ–°çš„åˆ—è¡¨
   matrix = [[0 for _ in range(cols)] for _ in range(rows)]
   
   # ç­‰åƒ¹æ–¼ï¼š
   matrix = []
   for i in range(rows):
       row = []
       for j in range(cols):
           row.append(0)
       matrix.append(row)
   </code></pre>
<ol>
<li><strong>å‰ç¶´å’Œçš„å®¹æ–¥åŸç†</strong></li>
</ol>
   <pre><code class="language-python">   è¦è¨ˆç®—ç´…è‰²å€åŸŸçš„ç¸½å’Œï¼š
   
   +-------+-------+
   |   A   |   B   |
   +-------+-------+
   |   C   | [RED] |
   +-------+-------+
   
   RED = (A+B+C+RED) - (A+B) - (A+C) + A
       = prefix[r2][c2] - prefix[r1-1][c2] 
<ul>
<li>prefix[r2][c1-1] + prefix[r1-1][c1-1]</li>
</ul>
   </code></pre>
<ol>
<li><strong>å·®åˆ†é™£åˆ—çš„åŸç†</strong></li>
</ul>
   <pre><code class="language-python">   # å°å€é–“ [2, 5] åŠ  3
   diff[2] += 3   # å¾ä½ç½® 2 é–‹å§‹å¢åŠ 
   diff[6] -= 3   # å¾ä½ç½® 6 é–‹å§‹æ¸›å°‘
   
   # é‚„åŸå¾Œï¼š
   # ä½ç½® 0,1: ä¸è®Š
   # ä½ç½® 2,3,4,5: +3
   # ä½ç½® 6 ä¹‹å¾Œ: ä¸è®Š
   </code></pre>
<ol>
<li><strong>çŸ©é™£éæ­·æ¨¡å¼</strong></li>
<li>é€è¡Œéæ­·ï¼š<code>for i in range(rows): for j in range(cols)</code></li>
<li>é€åˆ—éæ­·ï¼š<code>for j in range(cols): for i in range(rows)</code></li>
<li>å°è§’ç·šéæ­·ï¼š<code>for i in range(n): matrix[i][i]</code></li>
<li>èºæ—‹éæ­·ï¼šä½¿ç”¨å››å€‹é‚Šç•ŒæŒ‡æ¨™</li>
</ul>
                </div>
            </section>

            <!-- Quiz -->
            <section id="quiz" class="content-section">
                <h2 class="section-heading">
                    <span class="heading-icon">ğŸ“</span>
                    <span>Quiz: èƒ½é‡è­·ç›¾å……èƒ½ç³»çµ±</span>
                </h2>
                <div class="quiz-box glass">
                    <h3>é¡Œç›®ï¼šå€åŸŸå……èƒ½å„ªåŒ–</h3>
<p>åœŸæ˜Ÿæ¢éšªéšŠçš„èƒ½é‡è­·ç›¾ç”± NÃ—N çš„èƒ½é‡æ ¼çµ„æˆã€‚åˆå§‹æ™‚æ‰€æœ‰æ ¼å­çš„èƒ½é‡éƒ½æ˜¯ 0ã€‚ç¾åœ¨æœ‰ M æ¬¡å……èƒ½æ“ä½œï¼Œæ¯æ¬¡æ“ä½œæœƒå°ä¸€å€‹çŸ©å½¢å€åŸŸå…§çš„æ‰€æœ‰æ ¼å­å¢åŠ èƒ½é‡ã€‚</p>
è«‹è¨ˆç®—ï¼š
<ol>
<li>æ‰€æœ‰å……èƒ½æ“ä½œå®Œæˆå¾Œï¼Œæ¯å€‹æ ¼å­çš„æœ€çµ‚èƒ½é‡</li>
<li>èƒ½é‡æœ€é«˜çš„æ ¼å­ä½ç½®åŠå…¶èƒ½é‡å€¼</li>
<li>ç¸½èƒ½é‡</li>
</ol>
<strong>è¼¸å…¥æ ¼å¼ï¼š</strong>
<ul>
<li>ç¬¬ä¸€è¡Œï¼šæ•´æ•¸ Nï¼ˆè­·ç›¾å¤§å°ï¼Œ1 â‰¤ N â‰¤ 100ï¼‰</li>
<li>ç¬¬äºŒè¡Œï¼šæ•´æ•¸ Mï¼ˆå……èƒ½æ¬¡æ•¸ï¼Œ1 â‰¤ M â‰¤ 1000ï¼‰</li>
<li>æ¥ä¸‹ä¾† M è¡Œï¼Œæ¯è¡Œ 5 å€‹æ•´æ•¸ï¼šr1 c1 r2 c2 energy</li>
<li>è¡¨ç¤ºå°å¾ (r1,c1) åˆ° (r2,c2) çš„çŸ©å½¢å€åŸŸå¢åŠ  energy èƒ½é‡</li>
</ul>
<strong>è¼¸å…¥ç¯„ä¾‹ï¼š</strong>
<pre><code class="language-python">4
3
0 0 1 1 10
1 1 2 2 20
0 0 3 3 5
</code></pre>
<strong>è¼¸å‡ºç¯„ä¾‹ï¼š</strong>
<pre><code class="language-python">æœ€çµ‚èƒ½é‡åˆ†å¸ƒï¼š
15 15 5 5
15 35 25 5
5 25 25 5
5 5 5 5
æœ€é«˜èƒ½é‡ï¼š35
ä½ç½®ï¼š(1, 1)
ç¸½èƒ½é‡ï¼š240
</code></pre>
<h3>ğŸ’¡ æç¤º</h3>
<ul>
<li>å¯ä»¥ç›´æ¥æš´åŠ›æ›´æ–°æ¯å€‹æ ¼å­ï¼ˆç°¡å–®ä½†å¯èƒ½è¼ƒæ…¢ï¼‰</li>
<li>æˆ–ä½¿ç”¨äºŒç¶­å·®åˆ†é™£åˆ—ï¼ˆé€²éšæŠ€å·§ï¼‰</li>
</ul>
<p>---</p>
                    <button class="show-solution-btn" onclick="toggleSolution()">
                        ğŸ’¡ æŸ¥çœ‹è§£ç­”
                    </button>
                </div>
            </section>

            <!-- è§£ç­” -->
            <section id="solution" class="content-section solution-hidden">
                <h2 class="section-heading">
                    <span class="heading-icon">âœ…</span>
                    <span>Quiz è§£ç­”</span>
                </h2>
                <div class="solution-box glass">
                    <h3>è§£æ³• 1ï¼šç›´æ¥æ›´æ–°ï¼ˆé©åˆåˆå­¸è€…ï¼‰</h3>
<pre><code class="language-python">import sys
<p># è®€å–è­·ç›¾å¤§å°
n = int(sys.stdin.readline())</p>
<p># å‰µå»ºèƒ½é‡çŸ©é™£
energy = [[0 for _ in range(n)] for _ in range(n)]</p>
<p># è®€å–å……èƒ½æ¬¡æ•¸
m = int(sys.stdin.readline())</p>
<p># è™•ç†æ¯æ¬¡å……èƒ½
for _ in range(m):
    r1, c1, r2, c2, power = map(int, sys.stdin.readline().strip().split())
    
    # å°çŸ©å½¢å€åŸŸå…§çš„æ¯å€‹æ ¼å­å¢åŠ èƒ½é‡
    for i in range(r1, r2 + 1):
        for j in range(c1, c2 + 1):
            energy[i][j] += power</p>
<p># é¡¯ç¤ºæœ€çµ‚èƒ½é‡åˆ†å¸ƒ
print("æœ€çµ‚èƒ½é‡åˆ†å¸ƒï¼š")
for row in energy:
    print(' '.join(map(str, row)))</p>
<p># æ‰¾å‡ºæœ€é«˜èƒ½é‡
max_energy = 0
max_pos = (0, 0)
total_energy = 0</p>
<p>for i in range(n):
    for j in range(n):
        total_energy += energy[i][j]
        if energy[i][j] > max_energy:
            max_energy = energy[i][j]
            max_pos = (i, j)</p>
print(f"\næœ€é«˜èƒ½é‡ï¼š{max_energy}")
print(f"ä½ç½®ï¼š{max_pos}")
print(f"ç¸½èƒ½é‡ï¼š{total_energy}")
</code></pre>
<h3>è§£æ³• 2ï¼šäºŒç¶­å·®åˆ†é™£åˆ—ï¼ˆé€²éšï¼‰</h3>
<pre><code class="language-python">import sys
<p>n = int(sys.stdin.readline())</p>
<p># äºŒç¶­å·®åˆ†é™£åˆ—
diff = [[0 for _ in range(n+1)] for _ in range(n+1)]</p>
<p>m = int(sys.stdin.readline())</p>
<p># è¨˜éŒ„å·®åˆ†
for _ in range(m):
    r1, c1, r2, c2, power = map(int, sys.stdin.readline().strip().split())
    
    # äºŒç¶­å·®åˆ†æ¨™è¨˜
    diff[r1][c1] += power
    diff[r1][c2+1] -= power
    diff[r2+1][c1] -= power
    diff[r2+1][c2+1] += power</p>
<p># é‚„åŸå¯¦éš›èƒ½é‡ï¼ˆäºŒç¶­å‰ç¶´å’Œï¼‰
energy = [[0 for _ in range(n)] for _ in range(n)]</p>
<p>for i in range(n):
    for j in range(n):
        energy[i][j] = diff[i][j]
        if i > 0:
            energy[i][j] += energy[i-1][j]
        if j > 0:
            energy[i][j] += energy[i][j-1]
        if i > 0 and j > 0:
            energy[i][j] -= energy[i-1][j-1]</p>
<p># è¼¸å‡ºçµæœï¼ˆåŒä¸Šï¼‰
print("æœ€çµ‚èƒ½é‡åˆ†å¸ƒï¼š")
for row in energy:
    print(' '.join(map(str, row)))</p>
<p>max_energy = max(max(row) for row in energy)
total_energy = sum(sum(row) for row in energy)</p>
<p>for i in range(n):
    for j in range(n):
        if energy[i][j] == max_energy:
            max_pos = (i, j)
            break</p>
print(f"\næœ€é«˜èƒ½é‡ï¼š{max_energy}")
print(f"ä½ç½®ï¼š{max_pos}")
print(f"ç¸½èƒ½é‡ï¼š{total_energy}")
</code></pre>
<h3>è§£ç­”èªªæ˜</h3>
<strong>è§£æ³• 1 çš„å„ªç¼ºé»ï¼š</strong>
<ul>
<li>âœ… ç°¡å–®ç›´è§€ï¼Œå®¹æ˜“ç†è§£</li>
<li>âœ… é©åˆ M å’Œå€åŸŸå¤§å°éƒ½ä¸å¤§çš„æƒ…æ³</li>
<li>âŒ æ™‚é–“è¤‡é›œåº¦ï¼šO(M Ã— å€åŸŸå¤§å°)</li>
</ul>
<strong>è§£æ³• 2 çš„å„ªç¼ºé»ï¼š</strong>
<ul>
<li>âœ… æ™‚é–“è¤‡é›œåº¦ï¼šO(M + NÂ²)ï¼Œæ›´é«˜æ•ˆ</li>
<li>âœ… é©åˆå¤§é‡æ›´æ–°æ“ä½œ</li>
<li>âŒ è¼ƒè¤‡é›œï¼Œéœ€è¦ç†è§£å·®åˆ†åŸç†</li>
</ul>
<h3>æ•ˆèƒ½æ¯”è¼ƒ</h3>
<p>| æƒ…æ³ | è§£æ³• 1 | è§£æ³• 2 |
|------|--------|--------|
| N=100, M=10, å°å€åŸŸ | å¿«é€Ÿ | å¿«é€Ÿ |
| N=100, M=1000, å¤§å€åŸŸ | è¼ƒæ…¢ | å¿«é€Ÿ |
| N=1000, M=10000 | è¶…æ™‚ | å¯è¡Œ |</p>
<p>---</p>
                </div>
            </section>

            <!-- å®Œæˆå¾½ç«  -->
            <div class="completion-badge glass">
                <div class="badge-content">
                    <span class="badge-icon">ğŸ‰</span>
                    <h3>è¨“ç·´å®Œæˆï¼</h3>
                    <p>æ­å–œä½ å®Œæˆ åœŸæ˜Ÿç’°æ¨¡æ“¬èˆ‡äºŒç¶­é™£åˆ— è¨“ç·´ï¼</p>
                </div>
            </div>

            <!-- å°èˆªæŒ‰éˆ• -->
            <div class="lesson-navigation">
                <a href="../L2/B1.html" class="nav-btn prev-btn" >â† ä¸Šä¸€èª²</a>
                <a href="../../index.html" class="nav-btn home-btn">ğŸ  èª²ç¨‹åœ°åœ–</a>
                <a href="../L2/B3.html" class="nav-btn next-btn" >ä¸‹ä¸€èª² â†’</a>
            </div>
        </article>
    </main>

    <!-- JavaScript -->
    <script src="../../scripts/starfield.js"></script>
    <script src="../../scripts/lesson.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
</body>
</html>