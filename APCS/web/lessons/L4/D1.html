<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D1: æ˜Ÿéš›ç¶²çµ¡èˆ‡åœ–è«– | APCS å¤ªç©ºæ¢éšªèª²ç¨‹</title>
    <link rel="stylesheet" href="../../styles/main.css">
    <link rel="stylesheet" href="../../styles/lesson.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700;900&family=Fira+Code:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
</head>
<body>
    <!-- æ˜Ÿç©ºèƒŒæ™¯ -->
    <canvas id="starfield" class="starfield"></canvas>
    
    <!-- å°èˆªæ¬„ -->
    <nav class="lesson-nav glass">
        <div class="nav-content">
            <a href="../../index.html" class="back-btn">
                <span>â†</span>
                <span>è¿”å›èª²ç¨‹åœ°åœ–</span>
            </a>
            <div class="lesson-progress">
                <span class="progress-text">L4 - D1</span>
            </div>
            <div class="lesson-nav-buttons">
                <a href="../L3/C3.html" class="nav-btn prev-btn" >ä¸Šä¸€èª²</a>
                <a href="../L4/D2.html" class="nav-btn next-btn" >ä¸‹ä¸€èª²</a>
            </div>
        </div>
    </nav>

    <!-- ä¸»è¦å…§å®¹ -->
    <main class="lesson-container">
        <!-- å´é‚Šæ¬„ç›®éŒ„ -->
        <aside class="lesson-sidebar glass">
            <h3 class="sidebar-title">ğŸ“‹ æœ¬èª²å…§å®¹</h3>
            <nav class="sidebar-nav">
                <a href="#mission" class="sidebar-link active">ğŸš€ ä»»å‹™èƒŒæ™¯</a>
                <a href="#knowledge" class="sidebar-link">ğŸ“š çŸ¥è­˜é»èªªæ˜</a>
                <a href="#examples" class="sidebar-link">ğŸ’» ç¯„ä¾‹ç¨‹å¼ç¢¼</a>
                <a href="#explanation" class="sidebar-link">ğŸ” ç¨‹å¼ç¢¼è§£èªª</a>
                <a href="#quiz" class="sidebar-link">ğŸ“ Quiz</a>
                <a href="#solution" class="sidebar-link">âœ… è§£ç­”</a>
            </nav>
        </aside>

        <!-- èª²ç¨‹å…§å®¹ -->
        <article class="lesson-content">
            <!-- èª²ç¨‹æ¨™é¡Œ -->
            <header class="lesson-header">
                <div class="lesson-badge">
                    <span class="badge-icon">ğŸŒŒ</span>
                    <span class="badge-text">L4: å†¥ç‹æ˜Ÿé‚Šç•Œ</span>
                </div>
                <h1 class="lesson-title text-glow">
                    D1: å†¥ç‹æ˜Ÿæ˜Ÿéš›ç¶²çµ¡ï¼šåœ–è«–èˆ‡æœç´¢æ¼”ç®—æ³•
                </h1>
                <div class="lesson-meta">
                    <span class="meta-item">â±ï¸ é è¨ˆæ™‚é–“ï¼š6-8 å°æ™‚</span>
                    <span class="meta-item">ğŸ¯ ç›®æ¨™ç´šåˆ†ï¼š5 ç´šåˆ†</span>
                    <span class="meta-item">ğŸ“Š é›£åº¦ï¼šâ­â­â­â­â­</span>
                </div>
            </header>

            <!-- ä»»å‹™èƒŒæ™¯ -->
            <section id="mission" class="content-section">
                <h2 class="section-heading">
                    <span class="heading-icon">ğŸš€</span>
                    <span>ä»»å‹™èƒŒæ™¯</span>
                </h2>
                <div class="content-box glass">
                    <p>æ­å–œï¼ä½ å·²ç¶“æŠµé”å¤ªé™½ç³»çš„é‚Šç•Œâ€”â€”å†¥ç‹æ˜Ÿå€åŸŸã€‚é€™è£¡æœ‰è¤‡é›œçš„æ˜Ÿéš›èˆªé“ç¶²çµ¡ï¼Œé€£æ¥è‘—å„å€‹å¤ªç©ºç«™å’Œå°è¡Œæ˜Ÿå¸¶ã€‚è¦åœ¨é€™å€‹ç¶²çµ¡ä¸­æ‰¾åˆ°æœ€ä½³è·¯å¾‘ï¼Œä½ éœ€è¦æŒæ¡ã€Œåœ–è«–ã€â€”â€”é›»è…¦ç§‘å­¸ä¸­æœ€å¼·å¤§çš„å·¥å…·ä¹‹ä¸€ã€‚</p>
åœ–å¯ä»¥è¡¨ç¤ºä»»ä½•ã€Œç‰©ä»¶ä¹‹é–“çš„é—œä¿‚ã€ï¼š
<ul>
<li>å¤ªç©ºç«™ä¹‹é–“çš„èˆªé“</li>
<li>ç¤¾äº¤ç¶²çµ¡ä¸­çš„æœ‹å‹é—œä¿‚</li>
<li>ç¶²é ä¹‹é–“çš„è¶…é€£çµ</li>
<li>åŸå¸‚ä¹‹é–“çš„é“è·¯</li>
</ul>
                </div>
            </section>

            <!-- çŸ¥è­˜é»èªªæ˜ -->
            <section id="knowledge" class="content-section">
                <h2 class="section-heading">
                    <span class="heading-icon">ğŸ“š</span>
                    <span>çŸ¥è­˜é»èªªæ˜</span>
                </h2>
                <div class="content-box glass">
                    <h3>ä»€éº¼æ˜¯åœ–ï¼ˆGraphï¼‰ï¼Ÿ</h3>
åœ–ç”±å…©éƒ¨åˆ†çµ„æˆï¼š
<ul>
<li><strong>é ‚é»ï¼ˆVertices/Nodesï¼‰</strong>ï¼šç‰©ä»¶æœ¬èº«</li>
<li><strong>é‚Šï¼ˆEdgesï¼‰</strong>ï¼šç‰©ä»¶ä¹‹é–“çš„é€£æ¥</li>
</ul>
<pre><code class="language-python">    A --- B
    |     |
    C --- D
</code></pre>
<h3>åœ–çš„é¡å‹</h3>
<ol>
<li><strong>ç„¡å‘åœ– vs æœ‰å‘åœ–</strong></li>
<li>ç„¡å‘åœ–ï¼šé‚Šæ²’æœ‰æ–¹å‘ï¼ˆé›™å‘é“è·¯ï¼‰</li>
<li>æœ‰å‘åœ–ï¼šé‚Šæœ‰æ–¹å‘ï¼ˆå–®è¡Œé“ï¼‰</li>
</ol>
<ol>
<li><strong>åŠ æ¬Šåœ– vs ç„¡æ¬Šåœ–</strong></li>
<li>ç„¡æ¬Šåœ–ï¼šæ‰€æœ‰é‚Šçš„ã€Œæˆæœ¬ã€ç›¸åŒ</li>
<li>åŠ æ¬Šåœ–ï¼šæ¯æ¢é‚Šæœ‰ä¸åŒçš„æ¬Šé‡ï¼ˆè·é›¢ã€æ™‚é–“ç­‰ï¼‰</li>
</ol>
<h3>åœ–çš„è¡¨ç¤ºæ³•</h3>
<strong>1. é„°æ¥çŸ©é™£ï¼ˆAdjacency Matrixï¼‰</strong>
<pre><code class="language-python"># é©åˆç¨ å¯†åœ–ï¼ŒæŸ¥è©¢å¿«ä½†ä½”ç©ºé–“
graph = [[0, 1, 1, 0],
         [1, 0, 0, 1],
         [1, 0, 0, 1],
         [0, 1, 1, 0]]
</code></pre>
<strong>2. é„°æ¥ä¸²åˆ—ï¼ˆAdjacency Listï¼‰</strong> âœ… æ¨è–¦
<pre><code class="language-python"># é©åˆç¨€ç–åœ–ï¼Œç¯€çœç©ºé–“
graph = {
    'A': ['B', 'C'],
    'B': ['A', 'D'],
    'C': ['A', 'D'],
    'D': ['B', 'C']
}
</code></pre>
<h3>åœ–çš„éæ­·</h3>
<strong>å»£åº¦å„ªå…ˆæœå°‹ï¼ˆBFSï¼‰</strong>ï¼šä¸€å±¤ä¸€å±¤æ¢ç´¢
<ul>
<li>ä½¿ç”¨ä½‡åˆ—ï¼ˆQueueï¼‰</li>
<li>æ‰¾æœ€çŸ­è·¯å¾‘ï¼ˆç„¡æ¬Šåœ–ï¼‰</li>
</ul>
<strong>æ·±åº¦å„ªå…ˆæœå°‹ï¼ˆDFSï¼‰</strong>ï¼šä¸€æ¢è·¯èµ°åˆ°åº•
<ul>
<li>ä½¿ç”¨å †ç–Šï¼ˆStackï¼‰æˆ–éè¿´</li>
<li>æ¢ç´¢æ‰€æœ‰è·¯å¾‘</li>
</ul>
                </div>
            </section>

            <!-- ç¯„ä¾‹ç¨‹å¼ç¢¼ -->
            <section id="examples" class="content-section">
                <h2 class="section-heading">
                    <span class="heading-icon">ğŸ’»</span>
                    <span>ç¯„ä¾‹ç¨‹å¼ç¢¼</span>
                </h2>
                <div class="content-box glass">
                    <h3>ç¯„ä¾‹ 1ï¼šå»ºç«‹æ˜Ÿéš›èˆªé“ç¶²çµ¡</h3>
<pre><code class="language-python">import sys
from collections import defaultdict
<p># ä»»å‹™ï¼šå»ºç«‹å¤ªç©ºç«™ç¶²çµ¡
n = int(sys.stdin.readline())  # å¤ªç©ºç«™æ•¸é‡
m = int(sys.stdin.readline())  # èˆªé“æ•¸é‡</p>
<p># ä½¿ç”¨é„°æ¥ä¸²åˆ—
graph = defaultdict(list)</p>
<p>print("å»ºç«‹èˆªé“ï¼š")
for _ in range(m):
    a, b = map(int, sys.stdin.readline().strip().split())
    graph[a].append(b)
    graph[b].append(a)  # ç„¡å‘åœ–
    print(f"å¤ªç©ºç«™ {a} â†” å¤ªç©ºç«™ {b}")</p>
print("\nç¶²çµ¡çµæ§‹ï¼š")
for station in sorted(graph.keys()):
    neighbors = sorted(graph[station])
    print(f"å¤ªç©ºç«™ {station}: é€£æ¥åˆ° {neighbors}")
</code></pre>
<h3>ç¯„ä¾‹ 2ï¼šBFS - æœ€çŸ­è·¯å¾‘æœç´¢</h3>
<pre><code class="language-python">import sys
from collections import deque, defaultdict
<p>def bfs_shortest_path(graph, start, end):
    """ä½¿ç”¨ BFS æ‰¾å‡ºæœ€çŸ­è·¯å¾‘"""
    if start == end:
        return [start]
    
    # ä½‡åˆ—ï¼šå„²å­˜ (ç•¶å‰ç¯€é», è·¯å¾‘)
    queue = deque([(start, [start])])
    visited = {start}
    
    while queue:
        current, path = queue.popleft()
        
        # æ¢ç´¢æ‰€æœ‰é„°å±…
        for neighbor in graph[current]:
            if neighbor in visited:
                continue
            
            new_path = path + [neighbor]
            
            # æ‰¾åˆ°ç›®æ¨™
            if neighbor == end:
                return new_path
            
            visited.add(neighbor)
            queue.append((neighbor, new_path))
    
    return None  # ç„¡æ³•åˆ°é”</p>
<p># ä»»å‹™ï¼šæ‰¾å‡ºå¾åœ°çƒåˆ°å†¥ç‹æ˜Ÿçš„æœ€çŸ­èˆªé“
n = int(sys.stdin.readline())
m = int(sys.stdin.readline())</p>
<p>graph = defaultdict(list)
for _ in range(m):
    a, b = map(int, sys.stdin.readline().strip().split())
    graph[a].append(b)
    graph[b].append(a)</p>
<p>start = int(sys.stdin.readline())
end = int(sys.stdin.readline())</p>
<p>path = bfs_shortest_path(graph, start, end)</p>
if path:
    print(f"æœ€çŸ­è·¯å¾‘ï¼š{' â†’ '.join(map(str, path))}")
    print(f"éœ€è¦ç¶“é {len(path) - 1} å€‹èˆªé“")
else:
    print("ç„¡æ³•åˆ°é”ç›®æ¨™ï¼")
</code></pre>
<h3>ç¯„ä¾‹ 3ï¼šDFS - æ¢ç´¢æ‰€æœ‰è·¯å¾‘</h3>
<pre><code class="language-python">import sys
from collections import defaultdict
<p>def dfs_all_paths(graph, start, end, path=[]):
    """ä½¿ç”¨ DFS æ‰¾å‡ºæ‰€æœ‰è·¯å¾‘"""
    path = path + [start]
    
    # åˆ°é”ç›®æ¨™
    if start == end:
        return [path]
    
    # æ²’æœ‰é„°å±…
    if start not in graph:
        return []
    
    paths = []
    for neighbor in graph[start]:
        # é¿å…å¾ªç’°
        if neighbor not in path:
            new_paths = dfs_all_paths(graph, neighbor, end, path)
            paths.extend(new_paths)
    
    return paths</p>
<p># ä»»å‹™ï¼šæ‰¾å‡ºæ‰€æœ‰å¯èƒ½çš„æ¢ç´¢è·¯ç·š
n = int(sys.stdin.readline())
m = int(sys.stdin.readline())</p>
<p>graph = defaultdict(list)
for _ in range(m):
    a, b = map(int, sys.stdin.readline().strip().split())
    graph[a].append(b)
    graph[b].append(a)</p>
<p>start = int(sys.stdin.readline())
end = int(sys.stdin.readline())</p>
<p>all_paths = dfs_all_paths(graph, start, end)</p>
print(f"æ‰¾åˆ° {len(all_paths)} æ¢è·¯å¾‘ï¼š\n")
for i, path in enumerate(all_paths, 1):
    print(f"è·¯å¾‘ {i}: {' â†’ '.join(map(str, path))}")
</code></pre>
<h3>ç¯„ä¾‹ 4ï¼šè¿·å®®æ¢ç´¢ï¼ˆç¶²æ ¼åœ–ï¼‰</h3>
<pre><code class="language-python">import sys
from collections import deque
<p>def maze_bfs(maze, start, end):
    """åœ¨è¿·å®®ä¸­æ‰¾æœ€çŸ­è·¯å¾‘"""
    rows = len(maze)
    cols = len(maze[0])
    
    # å››å€‹æ–¹å‘ï¼šä¸Šä¸‹å·¦å³
    directions = [(-1, 0), (1, 0), (0, -1), (0, 1)]
    direction_names = ['ä¸Š', 'ä¸‹', 'å·¦', 'å³']
    
    queue = deque([(start, [start])])
    visited = {start}
    
    while queue:
        (r, c), path = queue.popleft()
        
        # åˆ°é”çµ‚é»
        if (r, c) == end:
            return path
        
        # æ¢ç´¢å››å€‹æ–¹å‘
        for (dr, dc), name in zip(directions, direction_names):
            nr, nc = r + dr, c + dc
            
            # æª¢æŸ¥é‚Šç•Œ
            if 0 <= nr < rows and 0 <= nc < cols:
                # æª¢æŸ¥æ˜¯å¦å¯é€šè¡Œä¸”æœªè¨ªå•
                if maze[nr][nc] != '#' and (nr, nc) not in visited:
                    visited.add((nr, nc))
                    queue.append(((nr, nc), path + [(nr, nc)]))
    
    return None</p>
<p># ä»»å‹™ï¼šåœ¨å°è¡Œæ˜Ÿå¸¶ä¸­æ‰¾åˆ°å®‰å…¨è·¯å¾‘
# '.' = å®‰å…¨å€åŸŸ, '#' = éš•çŸ³, 'S' = èµ·é», 'E' = çµ‚é»
rows = int(sys.stdin.readline())
cols = int(sys.stdin.readline())</p>
<p>maze = []
start = end = None</p>
<p>for i in range(rows):
    row = list(sys.stdin.readline().strip())
    maze.append(row)
    for j in range(cols):
        if row[j] == 'S':
            start = (i, j)
            maze[i][j] = '.'
        elif row[j] == 'E':
            end = (i, j)
            maze[i][j] = '.'</p>
<p>path = maze_bfs(maze, start, end)</p>
if path:
    print(f"æ‰¾åˆ°å®‰å…¨è·¯å¾‘ï¼é•·åº¦ï¼š{len(path)}")
    print("\nè¿·å®®ï¼ˆæ¨™è¨˜è·¯å¾‘ï¼‰ï¼š")
    
    # æ¨™è¨˜è·¯å¾‘
    for r, c in path:
        if (r, c) != start and (r, c) != end:
            maze[r][c] = '*'
    
    maze[start[0]][start[1]] = 'S'
    maze[end[0]][end[1]] = 'E'
    
    for row in maze:
        print(''.join(row))
else:
    print("ç„¡æ³•æ‰¾åˆ°å®‰å…¨è·¯å¾‘ï¼")
</code></pre>
<h3>ç¯„ä¾‹ 5ï¼šé€£é€šåˆ†é‡æª¢æ¸¬</h3>
<pre><code class="language-python">import sys
from collections import defaultdict
<p>def find_connected_components(graph, n):
    """æ‰¾å‡ºåœ–ä¸­çš„æ‰€æœ‰é€£é€šåˆ†é‡"""
    visited = set()
    components = []
    
    def dfs(node, component):
        visited.add(node)
        component.append(node)
        
        for neighbor in graph[node]:
            if neighbor not in visited:
                dfs(neighbor, component)
    
    for node in range(1, n + 1):
        if node not in visited:
            component = []
            dfs(node, component)
            components.append(sorted(component))
    
    return components</p>
<p># ä»»å‹™ï¼šè­˜åˆ¥ç¨ç«‹çš„æ˜Ÿç³»ç¾¤
n = int(sys.stdin.readline())  # å¤ªç©ºç«™æ•¸é‡
m = int(sys.stdin.readline())  # èˆªé“æ•¸é‡</p>
<p>graph = defaultdict(list)
for _ in range(m):
    a, b = map(int, sys.stdin.readline().strip().split())
    graph[a].append(b)
    graph[b].append(a)</p>
<p>components = find_connected_components(graph, n)</p>
print(f"ç™¼ç¾ {len(components)} å€‹ç¨ç«‹æ˜Ÿç³»ç¾¤ï¼š\n")
for i, comp in enumerate(components, 1):
    print(f"æ˜Ÿç³»ç¾¤ {i}: {comp}")
    print(f"  åŒ…å« {len(comp)} å€‹å¤ªç©ºç«™")
</code></pre>
                </div>
            </section>

            <!-- ç¨‹å¼ç¢¼è§£èªª -->
            <section id="explanation" class="content-section">
                <h2 class="section-heading">
                    <span class="heading-icon">ğŸ”</span>
                    <span>ç¨‹å¼ç¢¼è§£èªª</span>
                </h2>
                <div class="content-box glass">
                    <h3>é—œéµæŠ€è¡“é»</h3>
<ol>
<li><strong>BFS vs DFS çš„é¸æ“‡</strong></li>
</ol>
   
   | ç‰¹æ€§ | BFS | DFS |
   |------|-----|-----|
   | æ•¸æ“šçµæ§‹ | ä½‡åˆ— | å †ç–Š/éè¿´ |
   | æœ€çŸ­è·¯å¾‘ | âœ… ä¿è­‰ | âŒ ä¸ä¿è­‰ |
   | è¨˜æ†¶é«” | è¼ƒå¤š | è¼ƒå°‘ |
   | é©ç”¨å ´æ™¯ | æœ€çŸ­è·¯å¾‘ | è·¯å¾‘å­˜åœ¨æ€§ |
<ol>
<li><strong>visited é›†åˆçš„é‡è¦æ€§</strong></li>
</ol>
   <pre><code class="language-python">   visited = set()  # é˜²æ­¢é‡è¤‡è¨ªå•
   
   # åœ¨æœ‰ç’°çš„åœ–ä¸­ï¼Œæ²’æœ‰ visited æœƒç„¡é™å¾ªç’°ï¼
   </code></pre>
<ol>
<li><strong>ç¶²æ ¼åœ–çš„æŠ€å·§</strong></li>
</ol>
   <pre><code class="language-python">   # å››å€‹æ–¹å‘çš„ç§»å‹•
   directions = [(-1,0), (1,0), (0,-1), (0,1)]
   
   for dr, dc in directions:
       new_r, new_c = r + dr, c + dc
       # æª¢æŸ¥é‚Šç•Œ
       if 0 <= new_r < rows and 0 <= new_c < cols:
           # è™•ç†
   </code></pre>
<ol>
<li><strong>defaultdict çš„å¦™ç”¨</strong></li>
</ol>
   <pre><code class="language-python">   from collections import defaultdict
   
   # è‡ªå‹•å‰µå»ºç©ºåˆ—è¡¨
   graph = defaultdict(list)
   graph[1].append(2)  # ä¸éœ€è¦å…ˆåˆå§‹åŒ– graph[1]
   </code></pre>
                </div>
            </section>

            <!-- Quiz -->
            <section id="quiz" class="content-section">
                <h2 class="section-heading">
                    <span class="heading-icon">ğŸ“</span>
                    <span>Quiz: æ˜Ÿéš›æ•‘æ´ä»»å‹™</span>
                </h2>
                <div class="quiz-box glass">
                    <h3>é¡Œç›®ï¼šå¤šç›®æ¨™æœ€çŸ­è·¯å¾‘</h3>
<p>ä½ çš„å¤ªç©ºèˆ¹åœ¨å¤ªç©ºç«™ Sï¼Œéœ€è¦æ•‘æ´ä½æ–¼å¤ªç©ºç«™ T1 å’Œ T2 çš„å…©çµ„å¤ªç©ºäººï¼Œç„¶å¾Œè¿”å›åŸºåœ° Eã€‚</p>
<p>è«‹æ‰¾å‡ºä¸€æ¢è·¯å¾‘ï¼Œä½¿å¾—ç¸½èˆªé“æ•¸æœ€å°‘ã€‚ä½ å¯ä»¥é¸æ“‡å…ˆæ•‘æ´ T1 æˆ– T2ã€‚</p>
<strong>è¼¸å…¥æ ¼å¼ï¼š</strong>
<ul>
<li>ç¬¬ä¸€è¡Œï¼šN Mï¼ˆå¤ªç©ºç«™æ•¸é‡ï¼Œèˆªé“æ•¸é‡ï¼‰</li>
<li>æ¥ä¸‹ä¾† M è¡Œï¼šæ¯è¡Œå…©å€‹æ•´æ•¸ a bï¼Œè¡¨ç¤ºå¤ªç©ºç«™ a å’Œ b ä¹‹é–“æœ‰èˆªé“</li>
<li>æœ€å¾Œä¸€è¡Œï¼šS T1 T2 Eï¼ˆèµ·é»ã€å…©å€‹æ•‘æ´é»ã€çµ‚é»ï¼‰</li>
</ul>
<strong>è¼¸å…¥ç¯„ä¾‹ï¼š</strong>
<pre><code class="language-python">6 7
1 2
1 3
2 4
3 4
4 5
4 6
5 6
1 2 5 6
</code></pre>
<strong>è¼¸å‡ºç¯„ä¾‹ï¼š</strong>
<pre><code class="language-python">æœ€ä½³è·¯å¾‘ï¼š1 â†’ 2 â†’ 4 â†’ 5 â†’ 4 â†’ 6
ç¸½èˆªé“æ•¸ï¼š5
æ•‘æ´é †åºï¼š
<ol>
<li>å¾èµ·é» 1 åˆ°æ•‘æ´é» 2</li>
<li>å¾æ•‘æ´é» 2 åˆ°æ•‘æ´é» 5</li>
<li>å¾æ•‘æ´é» 5 åˆ°çµ‚é» 6</li>
</ol>
</code></pre>
<h3>ğŸ’¡ æç¤º</h3>
<ul>
<li>ä½¿ç”¨ BFS è¨ˆç®—ä»»æ„å…©é»é–“çš„æœ€çŸ­è·é›¢</li>
<li>æ¯”è¼ƒå…©ç¨®é †åºï¼šSâ†’T1â†’T2â†’E å’Œ Sâ†’T2â†’T1â†’E</li>
<li>é¸æ“‡ç¸½è·é›¢è¼ƒçŸ­çš„è·¯å¾‘</li>
</ul>
<p>---</p>
                    <button class="show-solution-btn" onclick="toggleSolution()">
                        ğŸ’¡ æŸ¥çœ‹è§£ç­”
                    </button>
                </div>
            </section>

            <!-- è§£ç­” -->
            <section id="solution" class="content-section solution-hidden">
                <h2 class="section-heading">
                    <span class="heading-icon">âœ…</span>
                    <span>Quiz è§£ç­”</span>
                </h2>
                <div class="solution-box glass">
                    <pre><code class="language-python">import sys
from collections import deque, defaultdict
<p>def bfs_distance(graph, start, end):
    """è¨ˆç®—å¾ start åˆ° end çš„æœ€çŸ­è·é›¢"""
    if start == end:
        return 0, [start]
    
    queue = deque([(start, [start])])
    visited = {start}
    
    while queue:
        current, path = queue.popleft()
        
        for neighbor in graph[current]:
            if neighbor in visited:
                continue
            
            new_path = path + [neighbor]
            
            if neighbor == end:
                return len(new_path) - 1, new_path
            
            visited.add(neighbor)
            queue.append((neighbor, new_path))
    
    return float('inf'), []</p>
<p># è®€å–è¼¸å…¥
n, m = map(int, sys.stdin.readline().strip().split())</p>
<p>graph = defaultdict(list)
for _ in range(m):
    a, b = map(int, sys.stdin.readline().strip().split())
    graph[a].append(b)
    graph[b].append(a)</p>
<p>S, T1, T2, E = map(int, sys.stdin.readline().strip().split())</p>
<p># è¨ˆç®—æ‰€æœ‰éœ€è¦çš„è·é›¢
dist_S_T1, path_S_T1 = bfs_distance(graph, S, T1)
dist_S_T2, path_S_T2 = bfs_distance(graph, S, T2)
dist_T1_T2, path_T1_T2 = bfs_distance(graph, T1, T2)
dist_T2_T1, path_T2_T1 = bfs_distance(graph, T2, T1)
dist_T1_E, path_T1_E = bfs_distance(graph, T1, E)
dist_T2_E, path_T2_E = bfs_distance(graph, T2, E)</p>
<p># æ–¹æ¡ˆ 1ï¼šS â†’ T1 â†’ T2 â†’ E
route1_dist = dist_S_T1 + dist_T1_T2 + dist_T2_E
route1_path = path_S_T1[:-1] + path_T1_T2[:-1] + path_T2_E</p>
<p># æ–¹æ¡ˆ 2ï¼šS â†’ T2 â†’ T1 â†’ E
route2_dist = dist_S_T2 + dist_T2_T1 + dist_T1_E
route2_path = path_S_T2[:-1] + path_T2_T1[:-1] + path_T1_E</p>
<p># é¸æ“‡è¼ƒçŸ­çš„è·¯å¾‘
if route1_dist <= route2_dist:
    best_path = route1_path
    best_dist = route1_dist
    order = [T1, T2]
else:
    best_path = route2_path
    best_dist = route2_dist
    order = [T2, T1]</p>
print(f"æœ€ä½³è·¯å¾‘ï¼š{' â†’ '.join(map(str, best_path))}")
print(f"ç¸½èˆªé“æ•¸ï¼š{best_dist}")
print(f"\næ•‘æ´é †åºï¼š")
print(f"1. å¾èµ·é» {S} åˆ°æ•‘æ´é» {order[0]}")
print(f"2. å¾æ•‘æ´é» {order[0]} åˆ°æ•‘æ´é» {order[1]}")
print(f"3. å¾æ•‘æ´é» {order[1]} åˆ°çµ‚é» {E}")
</code></pre>
<h3>è§£ç­”èªªæ˜</h3>
<ol>
<li><strong>åˆ†æ®µè¨ˆç®—</strong></li>
<li>å°‡å•é¡Œåˆ†è§£ç‚ºå¤šå€‹å…©é»é–“æœ€çŸ­è·¯å¾‘</li>
<li>ä½¿ç”¨ BFS è¨ˆç®—æ¯æ®µè·é›¢</li>
</ol>
<ol>
<li><strong>æ¯”è¼ƒå…©ç¨®æ–¹æ¡ˆ</strong></li>
</ol>
   <pre><code class="language-python">   # æ–¹æ¡ˆ 1ï¼šS â†’ T1 â†’ T2 â†’ E
   # æ–¹æ¡ˆ 2ï¼šS â†’ T2 â†’ T1 â†’ E
   # é¸æ“‡ç¸½è·é›¢è¼ƒçŸ­çš„
   </code></pre>
<ol>
<li><strong>è·¯å¾‘æ‹¼æ¥</strong></li>
</ol>
   <pre><code class="language-python">   # æ³¨æ„ï¼šæ‹¼æ¥æ™‚è¦å»æ‰ä¸­é–“ç¯€é»çš„é‡è¤‡
   path_S_T1[:-1] + path_T1_T2[:-1] + path_T2_E
   </code></pre>
<p>---</p>
                </div>
            </section>

            <!-- å®Œæˆå¾½ç«  -->
            <div class="completion-badge glass">
                <div class="badge-content">
                    <span class="badge-icon">ğŸ‰</span>
                    <h3>è¨“ç·´å®Œæˆï¼</h3>
                    <p>æ­å–œä½ å®Œæˆ æ˜Ÿéš›ç¶²çµ¡èˆ‡åœ–è«– è¨“ç·´ï¼</p>
                </div>
            </div>

            <!-- å°èˆªæŒ‰éˆ• -->
            <div class="lesson-navigation">
                <a href="../L3/C3.html" class="nav-btn prev-btn" >â† ä¸Šä¸€èª²</a>
                <a href="../../index.html" class="nav-btn home-btn">ğŸ  èª²ç¨‹åœ°åœ–</a>
                <a href="../L4/D2.html" class="nav-btn next-btn" >ä¸‹ä¸€èª² â†’</a>
            </div>
        </article>
    </main>

    <!-- JavaScript -->
    <script src="../../scripts/starfield.js"></script>
    <script src="../../scripts/lesson.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
</body>
</html>