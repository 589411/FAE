<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D2: å‹•æ…‹è¦åŠƒè—è¡“ | APCS å¤ªç©ºæ¢éšªèª²ç¨‹</title>
    <link rel="stylesheet" href="../../styles/main.css">
    <link rel="stylesheet" href="../../styles/lesson.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700;900&family=Fira+Code:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
</head>
<body>
    <!-- æ˜Ÿç©ºèƒŒæ™¯ -->
    <canvas id="starfield" class="starfield"></canvas>
    
    <!-- å°èˆªæ¬„ -->
    <nav class="lesson-nav glass">
        <div class="nav-content">
            <a href="../../index.html" class="back-btn">
                <span>â†</span>
                <span>è¿”å›èª²ç¨‹åœ°åœ–</span>
            </a>
            <div class="lesson-progress">
                <span class="progress-text">L4 - D2</span>
            </div>
            <div class="lesson-nav-buttons">
                <a href="../L4/D1.html" class="nav-btn prev-btn" >ä¸Šä¸€èª²</a>
                <a href="../L4/D3.html" class="nav-btn next-btn" >ä¸‹ä¸€èª²</a>
            </div>
        </div>
    </nav>

    <!-- ä¸»è¦å…§å®¹ -->
    <main class="lesson-container">
        <!-- å´é‚Šæ¬„ç›®éŒ„ -->
        <aside class="lesson-sidebar glass">
            <h3 class="sidebar-title">ğŸ“‹ æœ¬èª²å…§å®¹</h3>
            <nav class="sidebar-nav">
                <a href="#mission" class="sidebar-link active">ğŸš€ ä»»å‹™èƒŒæ™¯</a>
                <a href="#knowledge" class="sidebar-link">ğŸ“š çŸ¥è­˜é»èªªæ˜</a>
                <a href="#examples" class="sidebar-link">ğŸ’» ç¯„ä¾‹ç¨‹å¼ç¢¼</a>
                <a href="#explanation" class="sidebar-link">ğŸ” ç¨‹å¼ç¢¼è§£èªª</a>
                <a href="#quiz" class="sidebar-link">ğŸ“ Quiz</a>
                <a href="#solution" class="sidebar-link">âœ… è§£ç­”</a>
            </nav>
        </aside>

        <!-- èª²ç¨‹å…§å®¹ -->
        <article class="lesson-content">
            <!-- èª²ç¨‹æ¨™é¡Œ -->
            <header class="lesson-header">
                <div class="lesson-badge">
                    <span class="badge-icon">ğŸŒŒ</span>
                    <span class="badge-text">L4: å†¥ç‹æ˜Ÿé‚Šç•Œ</span>
                </div>
                <h1 class="lesson-title text-glow">
                    D2: å„ªåŒ–çš„è—è¡“ï¼šå‹•æ…‹è¦åŠƒ (DP)
                </h1>
                <div class="lesson-meta">
                    <span class="meta-item">â±ï¸ é è¨ˆæ™‚é–“ï¼š6-8 å°æ™‚</span>
                    <span class="meta-item">ğŸ¯ ç›®æ¨™ç´šåˆ†ï¼š5 ç´šåˆ†</span>
                    <span class="meta-item">ğŸ“Š é›£åº¦ï¼šâ­â­â­â­â­</span>
                </div>
            </header>

            <!-- ä»»å‹™èƒŒæ™¯ -->
            <section id="mission" class="content-section">
                <h2 class="section-heading">
                    <span class="heading-icon">ğŸš€</span>
                    <span>ä»»å‹™èƒŒæ™¯</span>
                </h2>
                <div class="content-box glass">
                    <p>åœ¨å†¥ç‹æ˜Ÿé‚Šç•Œï¼Œè³‡æºæ¥µåº¦ç¨€ç¼ºã€‚æ¯å€‹æ±ºç­–éƒ½å¿…é ˆæ˜¯æœ€å„ªçš„ï¼Œæ²’æœ‰è©¦éŒ¯çš„é¤˜åœ°ã€‚å‹•æ…‹è¦åŠƒï¼ˆDynamic Programming, DPï¼‰æ˜¯è§£æ±ºå„ªåŒ–å•é¡Œçš„çµ‚æ¥µæ­¦å™¨ã€‚</p>
ä½œç‚ºè³‡æºå„ªåŒ–å°ˆå®¶ï¼Œä½ éœ€è¦å­¸æœƒï¼š
<ul>
<li>è­˜åˆ¥å•é¡Œæ˜¯å¦é©åˆç”¨ DP è§£æ±º</li>
<li>å®šç¾©ç‹€æ…‹å’Œè½‰ç§»æ–¹ç¨‹</li>
<li>å¯¦ç¾é«˜æ•ˆçš„ DP è§£æ³•</li>
</ul>
<p>DP æ˜¯ APCS 5 ç´šåˆ†çš„æ ¸å¿ƒæŠ€èƒ½ï¼Œä¹Ÿæ˜¯æœ€å…·æŒ‘æˆ°æ€§çš„æ¼”ç®—æ³•ä¹‹ä¸€ã€‚</p>
                </div>
            </section>

            <!-- çŸ¥è­˜é»èªªæ˜ -->
            <section id="knowledge" class="content-section">
                <h2 class="section-heading">
                    <span class="heading-icon">ğŸ“š</span>
                    <span>çŸ¥è­˜é»èªªæ˜</span>
                </h2>
                <div class="content-box glass">
                    <h3>ä»€éº¼æ˜¯å‹•æ…‹è¦åŠƒï¼Ÿ</h3>
<strong>æ ¸å¿ƒæ¦‚å¿µ</strong>ï¼šå°‡è¤‡é›œå•é¡Œåˆ†è§£ç‚ºé‡ç–Šçš„å­å•é¡Œï¼Œä¸¦å„²å­˜å­å•é¡Œçš„è§£ä»¥é¿å…é‡è¤‡è¨ˆç®—ã€‚
<strong>DP çš„å…©å¤§ç‰¹å¾µ</strong>ï¼š
<ol>
<li><strong>æœ€å„ªå­çµæ§‹ï¼ˆOptimal Substructureï¼‰</strong></li>
<li>å•é¡Œçš„æœ€å„ªè§£å¯ç”±å­å•é¡Œçš„æœ€å„ªè§£æ§‹é€ å‡ºä¾†</li>
</ol>
<ol>
<li><strong>é‡ç–Šå­å•é¡Œï¼ˆOverlapping Subproblemsï¼‰</strong></li>
<li>éè¿´æ±‚è§£æ™‚ï¼Œç›¸åŒçš„å­å•é¡Œæœƒè¢«é‡è¤‡è¨ˆç®—å¤šæ¬¡</li>
</ol>
<h3>ç¶“å…¸ç¯„ä¾‹ï¼šè²»æ°æ•¸åˆ—</h3>
<strong>æš´åŠ›éè¿´ï¼ˆæŒ‡æ•¸æ™‚é–“ï¼‰</strong>ï¼š
<pre><code class="language-python">def fib(n):
    if n <= 1:
        return n
    return fib(n-1) + fib(n-2)  # å¤§é‡é‡è¤‡è¨ˆç®—
</code></pre>
<strong>DP å„ªåŒ–ï¼ˆç·šæ€§æ™‚é–“ï¼‰</strong>ï¼š
<pre><code class="language-python">def fib_dp(n):
    if n <= 1:
        return n
    
    memo = {}
    memo[0] = 0
    memo[1] = 1
    
    for i in range(2, n+1):
        memo[i] = memo[i-1] + memo[i-2]
    
    return memo[n]
</code></pre>
<h3>DP çš„å…©ç¨®å¯¦ç¾æ–¹å¼</h3>
<p>#### 1. Top-Downï¼ˆç”±ä¸Šè€Œä¸‹ï¼‰+ Memoization</p>
<pre><code class="language-python">def fib_memo(n, memo={}):
    if n in memo:
        return memo[n]  # å·²è¨ˆç®—éï¼Œç›´æ¥å›å‚³
    
    if n <= 1:
        return n
    
    memo[n] = fib_memo(n-1, memo) + fib_memo(n-2, memo)
    return memo[n]
</code></pre>
<strong>å„ªé»</strong>ï¼š
<ul>
<li>æ€è·¯è‡ªç„¶ï¼Œæ¥è¿‘éè¿´æ€ç¶­</li>
<li>Python æœ‰ <code>@lru_cache</code> è£é£¾å™¨å¯è‡ªå‹•å¯¦ç¾</li>
</ul>
<strong>ç¼ºé»</strong>ï¼š
<ul>
<li>å¯èƒ½é‡åˆ°éè¿´æ·±åº¦é™åˆ¶</li>
</ul>
<p>#### 2. Bottom-Upï¼ˆç”±ä¸‹è€Œä¸Šï¼‰+ Tabulation</p>
<pre><code class="language-python">def fib_table(n):
    if n <= 1:
        return n
    
    dp = [0] * (n + 1)
    dp[0] = 0
    dp[1] = 1
    
    for i in range(2, n+1):
        dp[i] = dp[i-1] + dp[i-2]
    
    return dp[n]
</code></pre>
<strong>å„ªé»</strong>ï¼š
<ul>
<li>é¿å…éè¿´é–‹éŠ·</li>
<li>æ›´å®¹æ˜“å„ªåŒ–ç©ºé–“è¤‡é›œåº¦</li>
</ul>
<strong>ç¼ºé»</strong>ï¼š
<ul>
<li>éœ€è¦ä»”ç´°è¨­è¨ˆè¿­ä»£é †åº</li>
</ul>
<h3>DP è§£é¡Œæ­¥é©Ÿ</h3>
<ol>
<li><strong>å®šç¾©ç‹€æ…‹</strong>ï¼š<code>dp[i]</code> ä»£è¡¨ä»€éº¼ï¼Ÿ</li>
<li><strong>æ‰¾å‡ºè½‰ç§»æ–¹ç¨‹</strong>ï¼š<code>dp[i]</code> å¦‚ä½•å¾ä¹‹å‰çš„ç‹€æ…‹è¨ˆç®—ï¼Ÿ</li>
<li><strong>ç¢ºå®šåˆå§‹æ¢ä»¶</strong>ï¼š<code>dp[0]</code>, <code>dp[1]</code> ç­‰åŸºç¤æƒ…æ³</li>
<li><strong>ç¢ºå®šè¨ˆç®—é †åº</strong>ï¼šå¾å°åˆ°å¤§é‚„æ˜¯å¾å¤§åˆ°å°ï¼Ÿ</li>
<li><strong>ç¢ºå®šç­”æ¡ˆä½ç½®</strong>ï¼šæœ€çµ‚ç­”æ¡ˆåœ¨ <code>dp[?]</code></li>
</ul>
                </div>
            </section>

            <!-- ç¯„ä¾‹ç¨‹å¼ç¢¼ -->
            <section id="examples" class="content-section">
                <h2 class="section-heading">
                    <span class="heading-icon">ğŸ’»</span>
                    <span>ç¯„ä¾‹ç¨‹å¼ç¢¼</span>
                </h2>
                <div class="content-box glass">
                    <h3>ç¯„ä¾‹ 1ï¼šçˆ¬æ¨“æ¢¯å•é¡Œ</h3>
<pre><code class="language-python">import sys
<p>def climb_stairs(n):
    """
    çˆ¬ n éšæ¨“æ¢¯ï¼Œæ¯æ¬¡å¯çˆ¬ 1 æˆ– 2 éš
    å•æœ‰å¤šå°‘ç¨®çˆ¬æ³•ï¼Ÿ
    
    ç‹€æ…‹å®šç¾©ï¼šdp[i] = çˆ¬åˆ°ç¬¬ i éšçš„æ–¹æ³•æ•¸
    è½‰ç§»æ–¹ç¨‹ï¼šdp[i] = dp[i-1] + dp[i-2]
    """
    if n <= 2:
        return n
    
    dp = [0] * (n + 1)
    dp[1] = 1  # çˆ¬ 1 éšï¼š1 ç¨®æ–¹æ³•
    dp[2] = 2  # çˆ¬ 2 éšï¼š2 ç¨®æ–¹æ³• (1+1 æˆ– 2)
    
    for i in range(3, n+1):
        dp[i] = dp[i-1] + dp[i-2]
    
    return dp[n]</p>
# ä¸»ç¨‹å¼
n = int(sys.stdin.readline())
print(f"çˆ¬ {n} éšæ¨“æ¢¯æœ‰ {climb_stairs(n)} ç¨®æ–¹æ³•")
</code></pre>
<h3>ç¯„ä¾‹ 2ï¼šæœ€å°è·¯å¾‘å’Œ</h3>
<pre><code class="language-python">import sys
<p>def min_path_sum(grid):
    """
    å¾å·¦ä¸Šè§’èµ°åˆ°å³ä¸‹è§’ï¼Œåªèƒ½å‘å³æˆ–å‘ä¸‹
    æ‰¾å‡ºè·¯å¾‘å’Œæœ€å°çš„è·¯å¾‘
    
    ç‹€æ…‹å®šç¾©ï¼šdp[i][j] = åˆ°é” (i,j) çš„æœ€å°è·¯å¾‘å’Œ
    è½‰ç§»æ–¹ç¨‹ï¼šdp[i][j] = grid[i][j] + min(dp[i-1][j], dp[i][j-1])
    """
    rows = len(grid)
    cols = len(grid[0])
    
    # åˆå§‹åŒ– DP è¡¨
    dp = [[0] * cols for _ in range(rows)]
    dp[0][0] = grid[0][0]
    
    # åˆå§‹åŒ–ç¬¬ä¸€è¡Œ
    for j in range(1, cols):
        dp[0][j] = dp[0][j-1] + grid[0][j]
    
    # åˆå§‹åŒ–ç¬¬ä¸€åˆ—
    for i in range(1, rows):
        dp[i][0] = dp[i-1][0] + grid[i][0]
    
    # å¡«å…… DP è¡¨
    for i in range(1, rows):
        for j in range(1, cols):
            dp[i][j] = grid[i][j] + min(dp[i-1][j], dp[i][j-1])
    
    return dp[rows-1][cols-1]</p>
<p># è®€å–ç¶²æ ¼
rows = int(sys.stdin.readline())
cols = int(sys.stdin.readline())
grid = []
for _ in range(rows):
    row = list(map(int, sys.stdin.readline().split()))
    grid.append(row)</p>
result = min_path_sum(grid)
print(f"æœ€å°è·¯å¾‘å’Œï¼š{result}")
</code></pre>
<h3>ç¯„ä¾‹ 3ï¼š0/1 èƒŒåŒ…å•é¡Œ</h3>
<pre><code class="language-python">import sys
<p>def knapsack(weights, values, capacity):
    """
    0/1 èƒŒåŒ…å•é¡Œï¼šæ¯å€‹ç‰©å“åªèƒ½é¸æˆ–ä¸é¸
    
    ç‹€æ…‹å®šç¾©ï¼šdp[i][w] = å‰ i å€‹ç‰©å“ï¼Œå®¹é‡ w æ™‚çš„æœ€å¤§åƒ¹å€¼
    è½‰ç§»æ–¹ç¨‹ï¼š
        ä¸é¸ç¬¬ i å€‹ï¼šdp[i][w] = dp[i-1][w]
        é¸ç¬¬ i å€‹ï¼šdp[i][w] = dp[i-1][w-weight[i]] + value[i]
        å–æœ€å¤§å€¼
    """
    n = len(weights)
    
    # å‰µå»º DP è¡¨
    dp = [[0] * (capacity + 1) for _ in range(n + 1)]
    
    for i in range(1, n + 1):
        for w in range(capacity + 1):
            # ä¸é¸ç¬¬ i å€‹ç‰©å“
            dp[i][w] = dp[i-1][w]
            
            # å¦‚æœèƒ½é¸ç¬¬ i å€‹ç‰©å“
            if w >= weights[i-1]:
                dp[i][w] = max(
                    dp[i][w],
                    dp[i-1][w - weights[i-1]] + values[i-1]
                )
    
    return dp[n][capacity]</p>
<p># è®€å–æ•¸æ“š
n = int(sys.stdin.readline())
capacity = int(sys.stdin.readline())</p>
<p>weights = []
values = []
for _ in range(n):
    w, v = map(int, sys.stdin.readline().split())
    weights.append(w)
    values.append(v)</p>
max_value = knapsack(weights, values, capacity)
print(f"æœ€å¤§åƒ¹å€¼ï¼š{max_value}")
</code></pre>
<h3>ç¯„ä¾‹ 4ï¼šæœ€é•·éå¢å­åºåˆ— (LIS)</h3>
<pre><code class="language-python">import sys
<p>def longest_increasing_subsequence(arr):
    """
    æ‰¾å‡ºæœ€é•·éå¢å­åºåˆ—çš„é•·åº¦
    
    ç‹€æ…‹å®šç¾©ï¼šdp[i] = ä»¥ arr[i] çµå°¾çš„æœ€é•·éå¢å­åºåˆ—é•·åº¦
    è½‰ç§»æ–¹ç¨‹ï¼šdp[i] = max(dp[j] + 1) for all j < i where arr[j] < arr[i]
    """
    n = len(arr)
    if n == 0:
        return 0
    
    # åˆå§‹åŒ–ï¼šæ¯å€‹å…ƒç´ è‡ªå·±å°±æ˜¯é•·åº¦ 1 çš„å­åºåˆ—
    dp = [1] * n
    
    for i in range(1, n):
        for j in range(i):
            if arr[j] < arr[i]:
                dp[i] = max(dp[i], dp[j] + 1)
    
    return max(dp)</p>
<p># ä¸»ç¨‹å¼
n = int(sys.stdin.readline())
arr = list(map(int, sys.stdin.readline().split()))</p>
lis_length = longest_increasing_subsequence(arr)
print(f"æœ€é•·éå¢å­åºåˆ—é•·åº¦ï¼š{lis_length}")
</code></pre>
<h3>ç¯„ä¾‹ 5ï¼šä½¿ç”¨ @lru_cache</h3>
<pre><code class="language-python">import sys
from functools import lru_cache
<p>@lru_cache(maxsize=None)
def count_ways(n, k):
    """
    ç”¨ k ç¨®é¡è‰²å¡— n å€‹æŸµæ¬„
    ç›¸é„°æŸµæ¬„ä¸èƒ½åŒè‰²
    
    ä½¿ç”¨ Python çš„ lru_cache è‡ªå‹•å¯¦ç¾ memoization
    """
    if n == 1:
        return k
    if n == 2:
        return k * k
    
    # ç¬¬ n å€‹æŸµæ¬„å¯ä»¥ï¼š
    # 1. èˆ‡ç¬¬ n-1 å€‹ä¸åŒè‰²ï¼šcount_ways(n-1, k) * (k-1)
    # 2. èˆ‡ç¬¬ n-2 å€‹ä¸åŒè‰²ä½†èˆ‡ n-1 åŒè‰²ï¼šcount_ways(n-2, k) * (k-1)
    return (k - 1) * (count_ways(n-1, k) + count_ways(n-2, k))</p>
<p># ä¸»ç¨‹å¼
n = int(sys.stdin.readline())
k = int(sys.stdin.readline())</p>
ways = count_ways(n, k)
print(f"å¡—è‰²æ–¹æ³•æ•¸ï¼š{ways}")
</code></pre>
                </div>
            </section>

            <!-- ç¨‹å¼ç¢¼è§£èªª -->
            <section id="explanation" class="content-section">
                <h2 class="section-heading">
                    <span class="heading-icon">ğŸ”</span>
                    <span>ç¨‹å¼ç¢¼è§£èªª</span>
                </h2>
                <div class="content-box glass">
                    <h3>é—œéµæŠ€è¡“é»</h3>
<p>#### 1. ç‹€æ…‹å®šç¾©çš„è—è¡“</p>
<strong>ä¸€ç¶­ DP</strong>ï¼š
<pre><code class="language-python">dp[i] = åˆ°é”ä½ç½® i çš„æœ€å„ªè§£
</code></pre>
<strong>äºŒç¶­ DP</strong>ï¼š
<pre><code class="language-python">dp[i][j] = è€ƒæ…®å‰ i å€‹å…ƒç´ ï¼ŒæŸå€‹é™åˆ¶ç‚º j æ™‚çš„æœ€å„ªè§£
</code></pre>
<p>#### 2. ç©ºé–“å„ªåŒ–</p>
<p>è¨±å¤š DP åªéœ€è¦å‰ä¸€å€‹æˆ–å‰å…©å€‹ç‹€æ…‹ï¼š</p>
<pre><code class="language-python"># åŸå§‹ï¼šO(N) ç©ºé–“
dp = [0] * n
for i in range(n):
    dp[i] = dp[i-1] + dp[i-2]
# å„ªåŒ–ï¼šO(1) ç©ºé–“
prev2, prev1 = 0, 1
for i in range(2, n+1):
    curr = prev1 + prev2
    prev2, prev1 = prev1, curr
</code></pre>
<p>#### 3. DP vs éè¿´</p>
<p>| ç‰¹æ€§ | éè¿´ | DP |
|------|------|-----|
| æ™‚é–“è¤‡é›œåº¦ | æŒ‡æ•¸ç´š | å¤šé …å¼ç´š |
| ç©ºé–“è¤‡é›œåº¦ | éè¿´å †ç–Š | DP è¡¨ |
| å¯¦ç¾é›£åº¦ | ç°¡å–®ç›´è§€ | éœ€è¦è¨­è¨ˆ |</p>
                </div>
            </section>

            <!-- Quiz -->
            <section id="quiz" class="content-section">
                <h2 class="section-heading">
                    <span class="heading-icon">ğŸ“</span>
                    <span>Quiz: è³‡æºåˆ†é…å„ªåŒ–</span>
                </h2>
                <div class="quiz-box glass">
                    <h3>é¡Œç›®</h3>
å†¥ç‹æ˜ŸåŸºåœ°æœ‰ N å¤©çš„ä»»å‹™ï¼Œæ¯å¤©å¯ä»¥é¸æ“‡åŸ·è¡Œä»»å‹™ A æˆ–ä»»å‹™ Bï¼š
<ul>
<li>ä»»å‹™ Aï¼šç²å¾— <code>a[i]</code> é»è³‡æº</li>
<li>ä»»å‹™ Bï¼šç²å¾— <code>b[i]</code> é»è³‡æº</li>
</ul>
<strong>é™åˆ¶</strong>ï¼šé€£çºŒåŸ·è¡ŒåŒä¸€ä»»å‹™ä¸èƒ½è¶…é 2 å¤©
<p>æ±‚ N å¤©å…§èƒ½ç²å¾—çš„æœ€å¤§è³‡æºé»æ•¸ã€‚</p>
<strong>è¼¸å…¥æ ¼å¼</strong>ï¼š
<pre><code class="language-python">ç¬¬ä¸€è¡Œï¼šå¤©æ•¸ N
ç¬¬äºŒè¡Œï¼šN å€‹æ•´æ•¸ï¼Œä»£è¡¨æ¯å¤©ä»»å‹™ A çš„è³‡æºé»
ç¬¬ä¸‰è¡Œï¼šN å€‹æ•´æ•¸ï¼Œä»£è¡¨æ¯å¤©ä»»å‹™ B çš„è³‡æºé»
</code></pre>
<strong>è¼¸å‡ºæ ¼å¼</strong>ï¼š
<pre><code class="language-python">æœ€å¤§è³‡æºé»æ•¸ï¼šX
</code></pre>
<strong>è¼¸å…¥ç¯„ä¾‹</strong>ï¼š
<pre><code class="language-python">5
10 5 8 12 6
8 12 6 10 15
</code></pre>
<strong>è¼¸å‡ºç¯„ä¾‹</strong>ï¼š
<pre><code class="language-python">æœ€å¤§è³‡æºé»æ•¸ï¼š54
</code></pre>
                    <button class="show-solution-btn" onclick="toggleSolution()">
                        ğŸ’¡ æŸ¥çœ‹è§£ç­”
                    </button>
                </div>
            </section>

            <!-- è§£ç­” -->
            <section id="solution" class="content-section solution-hidden">
                <h2 class="section-heading">
                    <span class="heading-icon">âœ…</span>
                    <span>Quiz è§£ç­”</span>
                </h2>
                <div class="solution-box glass">
                    <pre><code class="language-python">import sys
<p>def max_resources(n, task_a, task_b):
    """
    å‹•æ…‹è¦åŠƒè§£æ±ºè³‡æºåˆ†é…å•é¡Œ
    
    ç‹€æ…‹å®šç¾©ï¼š
    dp[i][0] = ç¬¬ i å¤©åŸ·è¡Œ Aï¼Œä¸”å‰ä¸€å¤©åŸ·è¡Œ B çš„æœ€å¤§è³‡æº
    dp[i][1] = ç¬¬ i å¤©åŸ·è¡Œ Aï¼Œä¸”å‰ä¸€å¤©åŸ·è¡Œ A çš„æœ€å¤§è³‡æº
    dp[i][2] = ç¬¬ i å¤©åŸ·è¡Œ Bï¼Œä¸”å‰ä¸€å¤©åŸ·è¡Œ A çš„æœ€å¤§è³‡æº
    dp[i][3] = ç¬¬ i å¤©åŸ·è¡Œ Bï¼Œä¸”å‰ä¸€å¤©åŸ·è¡Œ B çš„æœ€å¤§è³‡æº
    """
    if n == 0:
        return 0
    
    # åˆå§‹åŒ–
    dp = [[0] * 4 for _ in range(n)]
    dp[0][0] = task_a[0]  # ç¬¬ 0 å¤©åŸ·è¡Œ A
    dp[0][3] = task_b[0]  # ç¬¬ 0 å¤©åŸ·è¡Œ B
    
    for i in range(1, n):
        # ä»Šå¤©åŸ·è¡Œ Aï¼Œæ˜¨å¤©åŸ·è¡Œ B
        dp[i][0] = max(dp[i-1][2], dp[i-1][3]) + task_a[i]
        
        # ä»Šå¤©åŸ·è¡Œ Aï¼Œæ˜¨å¤©åŸ·è¡Œ Aï¼ˆä½†ä¸èƒ½é€£çºŒ 3 å¤©ï¼‰
        dp[i][1] = dp[i-1][0] + task_a[i]
        
        # ä»Šå¤©åŸ·è¡Œ Bï¼Œæ˜¨å¤©åŸ·è¡Œ A
        dp[i][2] = max(dp[i-1][0], dp[i-1][1]) + task_b[i]
        
        # ä»Šå¤©åŸ·è¡Œ Bï¼Œæ˜¨å¤©åŸ·è¡Œ Bï¼ˆä½†ä¸èƒ½é€£çºŒ 3 å¤©ï¼‰
        dp[i][3] = dp[i-1][2] + task_b[i]
    
    return max(dp[n-1])</p>
<p># ä¸»ç¨‹å¼
n = int(sys.stdin.readline())
task_a = list(map(int, sys.stdin.readline().split()))
task_b = list(map(int, sys.stdin.readline().split()))</p>
result = max_resources(n, task_a, task_b)
print(f"æœ€å¤§è³‡æºé»æ•¸ï¼š{result}")
</code></pre>
<h3>è§£ç­”èªªæ˜</h3>
<strong>ç‹€æ…‹è¨­è¨ˆ</strong>ï¼š
<ul>
<li>éœ€è¦è¨˜éŒ„ã€Œä»Šå¤©åšä»€éº¼ã€å’Œã€Œæ˜¨å¤©åšä»€éº¼ã€</li>
<li>ç”¨ 4 å€‹ç‹€æ…‹æ¶µè“‹æ‰€æœ‰å¯èƒ½çµ„åˆ</li>
</ul>
<strong>è½‰ç§»é‚è¼¯</strong>ï¼š
<ul>
<li>ä»Šå¤©åš Aï¼Œæ˜¨å¤©å¿…é ˆæ˜¯ Bï¼ˆæˆ–æ˜¨å¤©ä¹Ÿæ˜¯ A ä½†å‰å¤©æ˜¯ Bï¼‰</li>
<li>ç¢ºä¿ä¸æœƒé€£çºŒ 3 å¤©åšåŒä¸€ä»»å‹™</li>
</ul>
<strong>æ™‚é–“è¤‡é›œåº¦</strong>ï¼šO(N)
<strong>ç©ºé–“è¤‡é›œåº¦</strong>ï¼šO(N)ï¼ˆå¯å„ªåŒ–åˆ° O(1)ï¼‰
                </div>
            </section>

            <!-- å®Œæˆå¾½ç«  -->
            <div class="completion-badge glass">
                <div class="badge-content">
                    <span class="badge-icon">ğŸ‰</span>
                    <h3>è¨“ç·´å®Œæˆï¼</h3>
                    <p>æ­å–œä½ å®Œæˆ å‹•æ…‹è¦åŠƒè—è¡“ è¨“ç·´ï¼</p>
                </div>
            </div>

            <!-- å°èˆªæŒ‰éˆ• -->
            <div class="lesson-navigation">
                <a href="../L4/D1.html" class="nav-btn prev-btn" >â† ä¸Šä¸€èª²</a>
                <a href="../../index.html" class="nav-btn home-btn">ğŸ  èª²ç¨‹åœ°åœ–</a>
                <a href="../L4/D3.html" class="nav-btn next-btn" >ä¸‹ä¸€èª² â†’</a>
            </div>
        </article>
    </main>

    <!-- JavaScript -->
    <script src="../../scripts/starfield.js"></script>
    <script src="../../scripts/lesson.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
</body>
</html>