# APCS å¤ªç©ºæ¢éšªèª²ç¨‹ - å•†æ¥­æ¨¡å¼å¯¦æ–½æŒ‡å—

## ğŸ¯ å¿«é€Ÿé–‹å§‹ï¼ˆ5 åˆ†é˜è¨­ç½®ï¼‰

### æ­¥é©Ÿ 1ï¼šå•Ÿç”¨è¨ªå•æ§åˆ¶

åœ¨æ‰€æœ‰ HTML é é¢çš„ `<head>` ä¸­æ·»åŠ ï¼š

```html
<link rel="stylesheet" href="styles/paywall.css">
<script src="scripts/course-access.js"></script>
```

### æ­¥é©Ÿ 2ï¼šæ¨™è¨˜èª²ç¨‹å¡ç‰‡

åœ¨ `index.html` çš„èª²ç¨‹å¡ç‰‡ä¸­æ·»åŠ  `data-lesson-id` å±¬æ€§ï¼š

```html
<div class="lesson-card" data-lesson-id="A1">
    <!-- A1 èª²ç¨‹å…§å®¹ -->
</div>

<div class="lesson-card" data-lesson-id="B1">
    <!-- B1 èª²ç¨‹å…§å®¹ -->
</div>
```

### æ­¥é©Ÿ 3ï¼šæ·»åŠ å®šåƒ¹é€£çµ

åœ¨å°èˆªæ¬„æ·»åŠ å®šåƒ¹é é¢é€£çµï¼š

```html
<nav>
    <a href="index.html">èª²ç¨‹</a>
    <a href="pricing.html">å®šåƒ¹</a>
    <a href="unlock.html">è§£é–</a>
</nav>
```

### æ­¥é©Ÿ 4ï¼šæ¸¬è©¦ç³»çµ±

1. æ‰“é–‹ `index.html` - æ‡‰è©²çœ‹åˆ° B1-E1 èª²ç¨‹è¢«é–å®š
2. æ‰“é–‹ `unlock.html` - è¼¸å…¥æ¸¬è©¦å…Œæ›ç¢¼ï¼š`APCS2024-DEMO01`
3. è§£é–å¾Œè¿”å›é¦–é  - æ‰€æœ‰èª²ç¨‹æ‡‰è©²éƒ½å¯è¨ªå•

---

## ğŸ“‹ å®Œæ•´å¯¦æ–½æ¸…å–®

### âœ… å·²å®Œæˆçš„æ–‡ä»¶

- [x] `pricing.html` - å®šåƒ¹é é¢
- [x] `unlock.html` - å…Œæ›ç¢¼é é¢
- [x] `scripts/course-access.js` - è¨ªå•æ§åˆ¶ç³»çµ±
- [x] `styles/paywall.css` - ä»˜è²»ç‰†æ¨£å¼
- [x] `å•†æ¥­æ¨¡å¼å»ºè­°.md` - å®Œæ•´å•†æ¥­ç­–ç•¥
- [x] `å•†æ¥­æ¨¡å¼å¯¦æ–½æŒ‡å—.md` - æœ¬æ–‡æª”

### ğŸ”„ éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶

#### 1. `index.html`

**æ·»åŠ æ¨£å¼å’Œè…³æœ¬ï¼š**
```html
<head>
    <!-- ç¾æœ‰çš„æ¨£å¼ -->
    <link rel="stylesheet" href="styles/paywall.css">
</head>
<body>
    <!-- ç¾æœ‰å…§å®¹ -->
    
    <!-- åœ¨ </body> å‰æ·»åŠ  -->
    <script src="scripts/course-access.js"></script>
</body>
```

**ä¿®æ”¹èª²ç¨‹å¡ç‰‡ï¼š**
```html
<!-- Level 1 - å…è²» -->
<div class="lesson-card" data-lesson-id="A1">
    <div class="free-badge">å…è²»</div>
    <!-- ç¾æœ‰å…§å®¹ -->
</div>

<!-- Level 2 - ä»˜è²» -->
<div class="lesson-card" data-lesson-id="B1">
    <div class="premium-badge">â­ Premium</div>
    <!-- ç¾æœ‰å…§å®¹ -->
</div>
```

#### 2. æ‰€æœ‰èª²ç¨‹é é¢ï¼ˆA1.html, A2.html, ç­‰ï¼‰

åœ¨ `<head>` ä¸­æ·»åŠ ï¼š
```html
<link rel="stylesheet" href="../../styles/paywall.css">
<script src="../../scripts/course-access.js"></script>
```

#### 3. æ·»åŠ å°èˆªé€£çµ

åœ¨æ‰€æœ‰é é¢çš„å°èˆªæ¬„æ·»åŠ ï¼š
```html
<div class="nav-links">
    <a href="pricing.html">ğŸ’° æŸ¥çœ‹å®šåƒ¹</a>
    <a href="unlock.html">ğŸ”“ è§£é–èª²ç¨‹</a>
</div>
```

---

## ğŸ”§ è¨­ç½® Google Form è¨‚å–®ç³»çµ±

### æ­¥é©Ÿ 1ï¼šå‰µå»º Google Form

1. å‰å¾€ [Google Forms](https://forms.google.com)
2. å‰µå»ºæ–°è¡¨å–®ï¼šã€ŒAPCS èª²ç¨‹è¨‚è³¼è¡¨å–®ã€
3. æ·»åŠ ä»¥ä¸‹æ¬„ä½ï¼š
   - å§“åï¼ˆç°¡ç­”ï¼‰
   - Emailï¼ˆç°¡ç­”ï¼Œå¿…å¡«ï¼‰
   - æ‰‹æ©Ÿè™Ÿç¢¼ï¼ˆç°¡ç­”ï¼‰
   - é¸æ“‡æ–¹æ¡ˆï¼ˆå–®é¸ï¼šæ—©é³¥ NT$699 / å®Œæ•´ NT$999ï¼‰
   - å‚™è¨»ï¼ˆæ®µè½ï¼‰

### æ­¥é©Ÿ 2ï¼šç²å–è¡¨å–® ID

1. é»æ“Šã€Œç™¼é€ã€â†’ã€Œé€£çµã€
2. è¤‡è£½ URL ä¸­çš„è¡¨å–® ID
3. æ ¼å¼ï¼š`https://docs.google.com/forms/d/[FORM_ID]/viewform`

### æ­¥é©Ÿ 3ï¼šæ›´æ–° pricing.html

åœ¨ `pricing.html` ä¸­æ‰¾åˆ°ï¼š
```html
<form id="purchaseForm" action="https://docs.google.com/forms/d/e/YOUR_FORM_ID/formResponse" method="POST">
```

æ›¿æ›ç‚ºï¼š
```html
<form id="purchaseForm" action="https://docs.google.com/forms/d/e/[ä½ çš„FORM_ID]/formResponse" method="POST">
```

### æ­¥é©Ÿ 4ï¼šç²å–æ¬„ä½åç¨±

1. æ‰“é–‹è¡¨å–®çš„ã€Œé è¦½ã€æ¨¡å¼
2. æŒ‰ F12 æ‰“é–‹é–‹ç™¼è€…å·¥å…·
3. æª¢æŸ¥æ¯å€‹è¼¸å…¥æ¬„ä½çš„ `name` å±¬æ€§
4. æ›´æ–° `pricing.html` ä¸­çš„ `entry.XXX` ç‚ºå¯¦éš›çš„æ¬„ä½åç¨±

---

## ğŸ’³ è¨­ç½®æ”¯ä»˜ç³»çµ±ï¼ˆé€²éšï¼‰

### é¸é … 1ï¼šè—æ–°é‡‘æµï¼ˆå°ç£æ¨è–¦ï¼‰

1. è¨»å†Šè—æ–°é‡‘æµå•†åº—å¸³è™Ÿ
2. ç²å– API é‡‘é‘°
3. å‰µå»º Cloudflare Workerï¼š

```javascript
// workers/payment.js
export default {
  async fetch(request, env) {
    if (request.method === 'POST') {
      const { plan, email } = await request.json();
      
      // èª¿ç”¨è—æ–°é‡‘æµ API
      const payment = await createNewebpayPayment({
        amount: plan === 'earlybird' ? 699 : 999,
        email: email,
        merchantId: env.NEWEBPAY_MERCHANT_ID,
        hashKey: env.NEWEBPAY_HASH_KEY
      });
      
      return new Response(JSON.stringify(payment));
    }
  }
}
```

### é¸é … 2ï¼šStripeï¼ˆåœ‹éš›æ¨è–¦ï¼‰

1. è¨»å†Š Stripe å¸³è™Ÿ
2. ç²å– API é‡‘é‘°
3. å‰µå»ºç”¢å“å’Œåƒ¹æ ¼
4. æ•´åˆ Stripe Checkout

---

## ğŸ” å…Œæ›ç¢¼ç®¡ç†ç³»çµ±

### æ–¹æ³• 1ï¼šéœæ…‹åˆ—è¡¨ï¼ˆç°¡å–®ï¼‰

åœ¨ `scripts/course-access.js` ä¸­ï¼š
```javascript
const validCodes = [
    'APCS2024-DEMO01',
    'APCS2024-DEMO02',
    // æ‰‹å‹•æ·»åŠ æ›´å¤š...
];
```

### æ–¹æ³• 2ï¼šCloudflare Workers + D1ï¼ˆæ¨è–¦ï¼‰

**å‰µå»ºæ•¸æ“šåº«ï¼š**
```sql
CREATE TABLE redemption_codes (
    code TEXT PRIMARY KEY,
    used BOOLEAN DEFAULT FALSE,
    used_at TIMESTAMP,
    user_email TEXT
);
```

**Worker ä»£ç¢¼ï¼š**
```javascript
export default {
  async fetch(request, env) {
    const { code } = await request.json();
    
    // æª¢æŸ¥å…Œæ›ç¢¼
    const result = await env.DB.prepare(
      'SELECT * FROM redemption_codes WHERE code = ? AND used = FALSE'
    ).bind(code).first();
    
    if (result) {
      // æ¨™è¨˜ç‚ºå·²ä½¿ç”¨
      await env.DB.prepare(
        'UPDATE redemption_codes SET used = TRUE, used_at = ? WHERE code = ?'
      ).bind(new Date().toISOString(), code).run();
      
      return new Response(JSON.stringify({ valid: true }));
    }
    
    return new Response(JSON.stringify({ valid: false }));
  }
}
```

### æ–¹æ³• 3ï¼šç”Ÿæˆå…Œæ›ç¢¼è…³æœ¬

```javascript
// generate-codes.js
function generateCode() {
  const prefix = 'APCS2024';
  const random = Math.random().toString(36).substring(2, 8).toUpperCase();
  return `${prefix}-${random}`;
}

// ç”Ÿæˆ 100 å€‹å…Œæ›ç¢¼
for (let i = 0; i < 100; i++) {
  console.log(generateCode());
}
```

---

## ğŸ“Š åˆ†æèˆ‡è¿½è¹¤

### Google Analytics 4

åœ¨æ‰€æœ‰é é¢æ·»åŠ ï¼š
```html
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-XXXXXXXXXX');
</script>
```

### è¿½è¹¤äº‹ä»¶

```javascript
// è¿½è¹¤è§£é–äº‹ä»¶
function trackUnlock(code) {
  gtag('event', 'course_unlock', {
    'code': code,
    'timestamp': new Date().toISOString()
  });
}

// è¿½è¹¤è³¼è²·æ„åœ–
function trackPurchaseIntent(plan) {
  gtag('event', 'purchase_intent', {
    'plan': plan,
    'value': plan === 'earlybird' ? 699 : 999
  });
}
```

---

## ğŸš€ éƒ¨ç½²åˆ° Cloudflare Pages

### æ­¥é©Ÿ 1ï¼šæº–å‚™ä»£ç¢¼

```bash
cd /Users/yen-tangchang/Documents/github/FAE/APCS/web
git add -A
git commit -m "æ·»åŠ å•†æ¥­æ¨¡å¼åŠŸèƒ½"
git push
```

### æ­¥é©Ÿ 2ï¼šé€£æ¥ Cloudflare Pages

1. ç™»å…¥ [Cloudflare Dashboard](https://dash.cloudflare.com)
2. é€²å…¥ Pages â†’ Create a project
3. é€£æ¥ GitHub repository
4. è¨­ç½®ï¼š
   - Build command: (ç•™ç©º)
   - Build output directory: `/`
   - Root directory: `APCS/web`

### æ­¥é©Ÿ 3ï¼šé…ç½®ç’°å¢ƒè®Šæ•¸ï¼ˆå¦‚æœä½¿ç”¨ Workersï¼‰

åœ¨ Cloudflare Pages è¨­ç½®ä¸­æ·»åŠ ï¼š
- `NEWEBPAY_MERCHANT_ID`
- `NEWEBPAY_HASH_KEY`
- `DATABASE_URL`ï¼ˆå¦‚æœä½¿ç”¨ D1ï¼‰

---

## ğŸ“§ è‡ªå‹•åŒ–éƒµä»¶ç³»çµ±

### ä½¿ç”¨ Resendï¼ˆæ¨è–¦ï¼‰

```javascript
// workers/send-code.js
import { Resend } from 'resend';

export default {
  async fetch(request, env) {
    const resend = new Resend(env.RESEND_API_KEY);
    const { email, code } = await request.json();
    
    await resend.emails.send({
      from: 'APCS èª²ç¨‹ <noreply@apcs-space.com>',
      to: email,
      subject: 'æ‚¨çš„èª²ç¨‹å…Œæ›ç¢¼',
      html: `
        <h1>æ„Ÿè¬è³¼è²· APCS å¤ªç©ºæ¢éšªèª²ç¨‹ï¼</h1>
        <p>æ‚¨çš„å…Œæ›ç¢¼æ˜¯ï¼š<strong>${code}</strong></p>
        <p>è«‹å‰å¾€ <a href="https://apcs-space.com/unlock.html">è§£é–é é¢</a> è¼¸å…¥å…Œæ›ç¢¼ã€‚</p>
      `
    });
    
    return new Response('Email sent');
  }
}
```

---

## ğŸ¨ è‡ªå®šç¾©èˆ‡å“ç‰ŒåŒ–

### ä¿®æ”¹é…è‰²

åœ¨ `styles/main.css` ä¸­ï¼š
```css
:root {
    --primary-color: #667eea;    /* ä¸»è‰²èª¿ */
    --secondary-color: #764ba2;  /* æ¬¡è‰²èª¿ */
    --accent-color: #00d9ff;     /* å¼·èª¿è‰² */
}
```

### æ·»åŠ  Logo

```html
<div class="logo">
    <img src="images/logo.png" alt="APCS Space">
</div>
```

---

## ğŸ“± è¡ŒéŠ·ç­–ç•¥åŸ·è¡Œ

### 1. æ—©é³¥å„ªæƒ å€’æ•¸è¨ˆæ™‚å™¨

```html
<div class="countdown">
    <h3>æ—©é³¥å„ªæƒ å€’æ•¸</h3>
    <div id="timer"></div>
</div>

<script>
const deadline = new Date('2024-12-31').getTime();
setInterval(() => {
    const now = new Date().getTime();
    const diff = deadline - now;
    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    document.getElementById('timer').textContent = `${days} å¤©`;
}, 1000);
</script>
```

### 2. æ¨è–¦çå‹µç³»çµ±

```javascript
// ç”Ÿæˆæ¨è–¦é€£çµ
function generateReferralLink(userId) {
    return `https://apcs-space.com?ref=${userId}`;
}

// è¿½è¹¤æ¨è–¦
const ref = new URLSearchParams(window.location.search).get('ref');
if (ref) {
    localStorage.setItem('referrer', ref);
}
```

---

## ğŸ” å¸¸è¦‹å•é¡Œæ’æŸ¥

### Q: å…Œæ›ç¢¼ç„¡æ³•ä½¿ç”¨ï¼Ÿ
**A:** æª¢æŸ¥ `scripts/course-access.js` ä¸­çš„ `validCodes` é™£åˆ—

### Q: ä»˜è²»ç‰†æ²’æœ‰é¡¯ç¤ºï¼Ÿ
**A:** ç¢ºèªå·²å¼•å…¥ `paywall.css` å’Œ `course-access.js`

### Q: è§£é–å¾Œä»ç„¶çœ‹åˆ°é–å®šï¼Ÿ
**A:** æ¸…é™¤ç€è¦½å™¨ localStorage æˆ–ä½¿ç”¨ç„¡ç—•æ¨¡å¼æ¸¬è©¦

### Q: Google Form ç„¡æ³•æäº¤ï¼Ÿ
**A:** æª¢æŸ¥è¡¨å–® ID å’Œæ¬„ä½åç¨±æ˜¯å¦æ­£ç¢º

---

## ğŸ“ˆ æˆåŠŸæŒ‡æ¨™

### è¿½è¹¤é€™äº› KPIï¼š

- **è½‰æ›ç‡**ï¼šè¨ªå®¢ â†’ å…è²»ç”¨æˆ¶ â†’ ä»˜è²»ç”¨æˆ¶
- **å¹³å‡è¨‚å–®åƒ¹å€¼**ï¼šæ—©é³¥ vs æ­£åƒ¹æ¯”ä¾‹
- **å®Œèª²ç‡**ï¼šä»˜è²»ç”¨æˆ¶çš„å­¸ç¿’é€²åº¦
- **é€€æ¬¾ç‡**ï¼šæ‡‰è©² < 5%
- **æ¨è–¦ç‡**ï¼šæœ‰å¤šå°‘ç”¨æˆ¶æ¨è–¦æœ‹å‹

---

## ğŸ¯ ä¸‹ä¸€æ­¥è¡Œå‹•

### ç«‹å³åŸ·è¡Œï¼ˆä»Šå¤©ï¼‰ï¼š
1. [ ] åœ¨ `index.html` æ·»åŠ è¨ªå•æ§åˆ¶è…³æœ¬
2. [ ] æ¸¬è©¦å…è²»èª²ç¨‹å’Œé–å®šèª²ç¨‹
3. [ ] å‰µå»º Google Form
4. [ ] æ¸¬è©¦å…Œæ›ç¢¼ç³»çµ±

### æœ¬é€±å®Œæˆï¼š
1. [ ] è¨­ç½® Google Analytics
2. [ ] æº–å‚™æ—©é³¥å„ªæƒ æ´»å‹•
3. [ ] æ’°å¯«è¡ŒéŠ·æ–‡æ¡ˆ
4. [ ] è¨­è¨ˆç¤¾äº¤åª’é«”ç´ æ

### æœ¬æœˆå®Œæˆï¼š
1. [ ] æ•´åˆæ”¯ä»˜ç³»çµ±
2. [ ] è¨­ç½®è‡ªå‹•åŒ–éƒµä»¶
3. [ ] å»ºç«‹å®¢æœæµç¨‹
4. [ ] é–‹å§‹è¡ŒéŠ·æ¨å»£

---

## ğŸ’¡ å°ˆæ¥­å»ºè­°

1. **å…ˆæ¸¬è©¦ï¼Œå†æ¨å»£**ï¼šç”¨æœ‹å‹å’Œå®¶äººæ¸¬è©¦å®Œæ•´æµç¨‹
2. **æ”¶é›†åé¥‹**ï¼šæ—©æœŸç”¨æˆ¶çš„æ„è¦‹å¾ˆå¯¶è²´
3. **é€æ­¥å„ªåŒ–**ï¼šä¸è¦ä¸€æ¬¡åšå¤ªå¤šæ”¹è®Š
4. **ä¿æŒç°¡å–®**ï¼šè¤‡é›œçš„ç³»çµ±å®¹æ˜“å‡ºéŒ¯
5. **å°ˆæ³¨åƒ¹å€¼**ï¼šç¢ºä¿èª²ç¨‹å…§å®¹å„ªè³ª

---

## ğŸ“ éœ€è¦å¹«åŠ©ï¼Ÿ

å¦‚æœåœ¨å¯¦æ–½éç¨‹ä¸­é‡åˆ°å•é¡Œï¼Œå¯ä»¥ï¼š

1. æŸ¥çœ‹ `å•†æ¥­æ¨¡å¼å»ºè­°.md` äº†è§£ç­–ç•¥
2. æª¢æŸ¥ä»£ç¢¼è¨»é‡‹ä¸­çš„èªªæ˜
3. æ¸¬è©¦ demo å…Œæ›ç¢¼ï¼š`APCS2024-DEMO01`
4. è¯ç¹«æŠ€è¡“æ”¯æ´

---

**ç¥ä½ çš„ APCS èª²ç¨‹å¤§è³£ï¼ğŸš€**
