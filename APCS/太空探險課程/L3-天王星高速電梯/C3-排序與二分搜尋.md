# C3: æ•ˆç‡çš„å¿…è¦æ€§ï¼šæ’åºèˆ‡äºŒåˆ†æœå°‹

## ğŸš€ ä»»å‹™èƒŒæ™¯

å¤©ç‹æ˜Ÿè»Œé“ç«™ç®¡ç†è‘—æ•¸ç™¾è¬ç­†æ˜Ÿéš›èˆªç·šæ•¸æ“šã€‚ç•¶ä½ éœ€è¦åœ¨é¾å¤§çš„æ•¸æ“šåº«ä¸­å¿«é€Ÿæ‰¾åˆ°ç‰¹å®šè³‡è¨Šæ™‚ï¼Œæš´åŠ›æœå°‹ï¼ˆé€ä¸€æª¢æŸ¥ï¼‰å°‡è€—è²»æ•¸å°æ™‚ã€‚

ä½œç‚ºæ•¸æ“šåˆ†æå¸«ï¼Œä½ éœ€è¦æŒæ¡å…©å€‹é—œéµæŠ€èƒ½ï¼š
1. **æ’åº**ï¼šå°‡æ•¸æ“šæ•´ç†æˆæœ‰åºç‹€æ…‹
2. **äºŒåˆ†æœå°‹**ï¼šåœ¨æœ‰åºæ•¸æ“šä¸­ä»¥é©šäººé€Ÿåº¦æ‰¾åˆ°ç›®æ¨™

é€™å…©å€‹æŠ€è¡“æ˜¯æ¼”ç®—æ³•æ•ˆç‡æå‡çš„åŸºçŸ³ï¼Œèƒ½å°‡æœå°‹æ™‚é–“å¾æ•¸å°æ™‚ç¸®çŸ­åˆ°æ¯«ç§’ï¼

## ğŸ“š çŸ¥è­˜é»èªªæ˜

### æ’åºï¼ˆSortingï¼‰

**ç‚ºä»€éº¼éœ€è¦æ’åºï¼Ÿ**
- è®“æ•¸æ“šæ›´æ˜“æ–¼ç†è§£å’Œåˆ†æ
- æ˜¯è¨±å¤šé«˜æ•ˆæ¼”ç®—æ³•çš„å‰ç½®æ­¥é©Ÿ
- èƒ½æ”¯æ´å¿«é€Ÿæœå°‹

**Python çš„æ’åºæ–¹æ³•**ï¼š

```python
# æ–¹æ³• 1ï¼šlist.sort() - åŸåœ°æ’åº
numbers = [5, 2, 8, 1, 9]
numbers.sort()  # ä¿®æ”¹åŸåˆ—è¡¨
print(numbers)  # [1, 2, 5, 8, 9]

# æ–¹æ³• 2ï¼šsorted() - å›å‚³æ–°åˆ—è¡¨
numbers = [5, 2, 8, 1, 9]
sorted_numbers = sorted(numbers)  # ä¸ä¿®æ”¹åŸåˆ—è¡¨
print(numbers)         # [5, 2, 8, 1, 9]
print(sorted_numbers)  # [1, 2, 5, 8, 9]

# åå‘æ’åº
numbers.sort(reverse=True)  # [9, 8, 5, 2, 1]
```

**æ™‚é–“è¤‡é›œåº¦**ï¼šPython ä½¿ç”¨ Timsort æ¼”ç®—æ³•ï¼Œå¹³å‡å’Œæœ€å£æƒ…æ³éƒ½æ˜¯ O(N log N)ã€‚

### äºŒåˆ†æœå°‹ï¼ˆBinary Searchï¼‰

**æ ¸å¿ƒæ¦‚å¿µ**ï¼šåœ¨å·²æ’åºçš„åºåˆ—ä¸­ï¼Œæ¯æ¬¡å°‡æœå°‹ç¯„åœç¸®å°ä¸€åŠã€‚

**æ•ˆç‡æ¯”è¼ƒ**ï¼š
- ç·šæ€§æœå°‹ï¼šO(N) - æœ€å£æƒ…æ³éœ€æª¢æŸ¥æ‰€æœ‰å…ƒç´ 
- äºŒåˆ†æœå°‹ï¼šO(log N) - 1,000,000 ç­†è³‡æ–™åªéœ€ç´„ 20 æ¬¡æ¯”è¼ƒï¼

**é‹ä½œåŸç†**ï¼š

```
å·²æ’åºé™£åˆ—ï¼š[1, 3, 5, 7, 9, 11, 13, 15, 17, 19]
å°‹æ‰¾ç›®æ¨™ï¼š13

æ­¥é©Ÿ 1ï¼šæª¢æŸ¥ä¸­é–“ (9)ï¼Œ13 > 9ï¼Œå¾€å³åŠéƒ¨æ‰¾
       [11, 13, 15, 17, 19]

æ­¥é©Ÿ 2ï¼šæª¢æŸ¥ä¸­é–“ (15)ï¼Œ13 < 15ï¼Œå¾€å·¦åŠéƒ¨æ‰¾
       [11, 13]

æ­¥é©Ÿ 3ï¼šæª¢æŸ¥ä¸­é–“ (11)ï¼Œ13 > 11ï¼Œå¾€å³åŠéƒ¨æ‰¾
       [13]

æ­¥é©Ÿ 4ï¼šæ‰¾åˆ°ç›®æ¨™ï¼
```

### äºŒåˆ†æœå°‹æ¨¡æ¿

```python
def binary_search(arr, target):
    """
    åœ¨å·²æ’åºé™£åˆ—ä¸­æœå°‹ç›®æ¨™å€¼
    å›å‚³ï¼šç›®æ¨™çš„ç´¢å¼•ï¼Œè‹¥ä¸å­˜åœ¨å‰‡å›å‚³ -1
    """
    left, right = 0, len(arr) - 1
    
    while left <= right:
        mid = left + (right - left) // 2  # é¿å…æº¢ä½
        
        if arr[mid] == target:
            return mid  # æ‰¾åˆ°ç›®æ¨™
        elif arr[mid] < target:
            left = mid + 1  # å¾€å³åŠéƒ¨æ‰¾
        else:
            right = mid - 1  # å¾€å·¦åŠéƒ¨æ‰¾
    
    return -1  # æœªæ‰¾åˆ°
```

âš ï¸ **å¸¸è¦‹éŒ¯èª¤**ï¼š
- å¿˜è¨˜é™£åˆ—å¿…é ˆå·²æ’åº
- `while left <= right` å¯«æˆ `while left < right`
- é‚Šç•Œæ›´æ–°éŒ¯èª¤

## ğŸ’» ç¯„ä¾‹ç¨‹å¼ç¢¼

### ç¯„ä¾‹ 1ï¼šåŸºç¤äºŒåˆ†æœå°‹

```python
import sys

def binary_search(arr, target):
    left, right = 0, len(arr) - 1
    
    while left <= right:
        mid = left + (right - left) // 2
        
        if arr[mid] == target:
            return mid
        elif arr[mid] < target:
            left = mid + 1
        else:
            right = mid - 1
    
    return -1

# è®€å–æ•¸æ“š
n = int(sys.stdin.readline())
numbers = list(map(int, sys.stdin.readline().split()))
target = int(sys.stdin.readline())

# æ’åºï¼ˆäºŒåˆ†æœå°‹çš„å‰æï¼‰
numbers.sort()

# æœå°‹
index = binary_search(numbers, target)

if index != -1:
    print(f"æ‰¾åˆ°ç›®æ¨™ï¼šä½æ–¼ç´¢å¼• {index}")
else:
    print("ç›®æ¨™ä¸å­˜åœ¨")
```

### ç¯„ä¾‹ 2ï¼šå°‹æ‰¾æ’å…¥ä½ç½®

```python
import sys

def find_insert_position(arr, target):
    """
    æ‰¾åˆ°ç›®æ¨™æ‡‰è©²æ’å…¥çš„ä½ç½®
    ä½¿é™£åˆ—ä¿æŒæœ‰åº
    """
    left, right = 0, len(arr)
    
    while left < right:
        mid = left + (right - left) // 2
        
        if arr[mid] < target:
            left = mid + 1
        else:
            right = mid
    
    return left

# è®€å–æ•¸æ“š
n = int(sys.stdin.readline())
numbers = list(map(int, sys.stdin.readline().split()))
target = int(sys.stdin.readline())

numbers.sort()
position = find_insert_position(numbers, target)

print(f"æ‡‰æ’å…¥ä½ç½®ï¼š{position}")
```

### ç¯„ä¾‹ 3ï¼šè¨ˆç®—å‡ºç¾æ¬¡æ•¸

```python
import sys

def count_occurrences(arr, target):
    """è¨ˆç®—ç›®æ¨™åœ¨å·²æ’åºé™£åˆ—ä¸­å‡ºç¾çš„æ¬¡æ•¸"""
    
    def find_first():
        left, right = 0, len(arr)
        while left < right:
            mid = left + (right - left) // 2
            if arr[mid] < target:
                left = mid + 1
            else:
                right = mid
        return left
    
    def find_last():
        left, right = 0, len(arr)
        while left < right:
            mid = left + (right - left) // 2
            if arr[mid] <= target:
                left = mid + 1
            else:
                right = mid
        return left
    
    first = find_first()
    last = find_last()
    
    if first < len(arr) and arr[first] == target:
        return last - first
    return 0

# ä¸»ç¨‹å¼
n = int(sys.stdin.readline())
numbers = list(map(int, sys.stdin.readline().split()))
target = int(sys.stdin.readline())

numbers.sort()
count = count_occurrences(numbers, target)

print(f"{target} å‡ºç¾ {count} æ¬¡")
```

### ç¯„ä¾‹ 4ï¼šç­”æ¡ˆç©ºé–“ä¸Šçš„äºŒåˆ†æœå°‹

```python
import sys

def can_distribute(piles, workers, max_time):
    """
    æª¢æŸ¥æ˜¯å¦èƒ½åœ¨ max_time æ™‚é–“å…§åˆ†é…å®Œæ‰€æœ‰å·¥ä½œ
    """
    time_used = 0
    for pile in piles:
        time_used += pile
        if time_used > max_time:
            return False
    return True

def find_minimum_time(piles, workers):
    """
    æ‰¾åˆ°å®Œæˆæ‰€æœ‰å·¥ä½œçš„æœ€å°æ™‚é–“
    ä½¿ç”¨äºŒåˆ†æœå°‹åœ¨ç­”æ¡ˆç©ºé–“ä¸Šæœå°‹
    """
    left = max(piles)  # è‡³å°‘éœ€è¦è™•ç†æœ€å¤§çš„ä¸€å †
    right = sum(piles)  # æœ€å¤šéœ€è¦è™•ç†æ‰€æœ‰å·¥ä½œ
    
    result = right
    while left <= right:
        mid = left + (right - left) // 2
        
        if can_distribute(piles, workers, mid):
            result = mid  # å¯è¡Œï¼Œå˜—è©¦æ›´å°çš„æ™‚é–“
            right = mid - 1
        else:
            left = mid + 1  # ä¸å¯è¡Œï¼Œéœ€è¦æ›´å¤šæ™‚é–“
    
    return result

# ä¸»ç¨‹å¼
n = int(sys.stdin.readline())
piles = list(map(int, sys.stdin.readline().split()))
workers = int(sys.stdin.readline())

min_time = find_minimum_time(piles, workers)
print(f"æœ€å°å®Œæˆæ™‚é–“ï¼š{min_time}")
```

## ğŸ” ç¨‹å¼ç¢¼è§£èªª

### é—œéµæŠ€è¡“é»

#### 1. äºŒåˆ†æœå°‹çš„é‚Šç•Œè™•ç†

```python
# æ¨™æº–æ¨¡æ¿ï¼ˆå°‹æ‰¾ç¢ºåˆ‡å€¼ï¼‰
while left <= right:  # æ³¨æ„æ˜¯ <=
    mid = left + (right - left) // 2
    if arr[mid] == target:
        return mid
    elif arr[mid] < target:
        left = mid + 1  # ä¸åŒ…å« mid
    else:
        right = mid - 1  # ä¸åŒ…å« mid
```

#### 2. å°‹æ‰¾é‚Šç•Œçš„æ¨¡æ¿

```python
# å°‹æ‰¾ç¬¬ä¸€å€‹ >= target çš„ä½ç½®
while left < right:  # æ³¨æ„æ˜¯ <
    mid = left + (right - left) // 2
    if arr[mid] < target:
        left = mid + 1
    else:
        right = mid  # åŒ…å« mid
```

#### 3. ç­”æ¡ˆç©ºé–“ä¸Šçš„äºŒåˆ†æœå°‹

**é©ç”¨æ¢ä»¶**ï¼š
- å•é¡Œè¦æ±‚æ‰¾ã€Œæœ€å°çš„ k ä½¿å¾—...ã€æˆ–ã€Œæœ€å¤§çš„ k ä½¿å¾—...ã€
- ç­”æ¡ˆå…·æœ‰å–®èª¿æ€§

**æ¨¡æ¿**ï¼š
```python
def is_valid(k):
    """æª¢æŸ¥ k æ˜¯å¦æ»¿è¶³æ¢ä»¶"""
    pass

left, right = min_possible, max_possible
while left <= right:
    mid = left + (right - left) // 2
    if is_valid(mid):
        # æ ¹æ“šé¡Œç›®èª¿æ•´
        result = mid
        right = mid - 1  # æˆ– left = mid + 1
    else:
        left = mid + 1   # æˆ– right = mid - 1
```

## ğŸ“ Quizï¼šæ˜Ÿéš›èˆªç·šæœå°‹

### é¡Œç›®

å¤©ç‹æ˜Ÿè»Œé“ç«™æœ‰ N æ¢èˆªç·šï¼Œæ¯æ¢èˆªç·šæœ‰ä¸€å€‹ç·¨è™Ÿï¼ˆå¯èƒ½é‡è¤‡ï¼‰ã€‚ç¾åœ¨éœ€è¦å¿«é€ŸæŸ¥è©¢ï¼š

1. æŸå€‹ç·¨è™Ÿçš„èˆªç·šæ˜¯å¦å­˜åœ¨
2. å¦‚æœå­˜åœ¨ï¼Œå®ƒæ˜¯ç¬¬å¹¾æ¢èˆªç·šï¼ˆæœ€å°ç´¢å¼•ï¼‰

**è¼¸å…¥æ ¼å¼**ï¼š
```
ç¬¬ä¸€è¡Œï¼šèˆªç·šæ•¸é‡ N
ç¬¬äºŒè¡Œï¼šN å€‹èˆªç·šç·¨è™Ÿï¼ˆæœªæ’åºï¼‰
ç¬¬ä¸‰è¡Œï¼šæŸ¥è©¢çš„ç·¨è™Ÿ Q
```

**è¼¸å‡ºæ ¼å¼**ï¼š
- å¦‚æœå­˜åœ¨ï¼š`æ‰¾åˆ°èˆªç·šï¼šç·¨è™Ÿ Q ä½æ–¼ç¬¬ X æ¢`
- å¦‚æœä¸å­˜åœ¨ï¼š`èˆªç·š Q ä¸å­˜åœ¨`

**è¼¸å…¥ç¯„ä¾‹**ï¼š
```
8
42 17 33 17 55 33 17 99
17
```

**è¼¸å‡ºç¯„ä¾‹**ï¼š
```
æ‰¾åˆ°èˆªç·šï¼šç·¨è™Ÿ 17 ä½æ–¼ç¬¬ 1 æ¢
```

## âœ… Quiz è§£ç­”

```python
import sys

def find_first_occurrence(arr, target):
    """
    åœ¨å·²æ’åºé™£åˆ—ä¸­æ‰¾åˆ°ç›®æ¨™ç¬¬ä¸€æ¬¡å‡ºç¾çš„ä½ç½®
    å›å‚³åŸå§‹ç´¢å¼•
    """
    # å‰µå»º (å€¼, åŸå§‹ç´¢å¼•) çš„é…å°
    indexed_arr = [(val, i) for i, val in enumerate(arr)]
    # æŒ‰å€¼æ’åº
    indexed_arr.sort(key=lambda x: x[0])
    
    # äºŒåˆ†æœå°‹
    left, right = 0, len(indexed_arr)
    result_index = -1
    
    while left < right:
        mid = left + (right - left) // 2
        
        if indexed_arr[mid][0] < target:
            left = mid + 1
        elif indexed_arr[mid][0] > target:
            right = mid
        else:
            # æ‰¾åˆ°ç›®æ¨™ï¼Œè¨˜éŒ„ä¸¦ç¹¼çºŒå¾€å·¦æ‰¾
            result_index = indexed_arr[mid][1]
            right = mid
    
    return result_index

# ä¸»ç¨‹å¼
n = int(sys.stdin.readline())
routes = list(map(int, sys.stdin.readline().split()))
query = int(sys.stdin.readline())

index = find_first_occurrence(routes, query)

if index != -1:
    print(f"æ‰¾åˆ°èˆªç·šï¼šç·¨è™Ÿ {query} ä½æ–¼ç¬¬ {index} æ¢")
else:
    print(f"èˆªç·š {query} ä¸å­˜åœ¨")
```

### è§£ç­”èªªæ˜

**é—œéµæŠ€å·§**ï¼š
1. ä½¿ç”¨ `(å€¼, ç´¢å¼•)` é…å°ä¿ç•™åŸå§‹ä½ç½®
2. æ’åºæ™‚åªæŒ‰å€¼æ’åº
3. æ‰¾åˆ°ç›®æ¨™å¾Œç¹¼çºŒå¾€å·¦æ‰¾ï¼Œç¢ºä¿æ˜¯ç¬¬ä¸€æ¬¡å‡ºç¾

**æ™‚é–“è¤‡é›œåº¦**ï¼š
- æ’åºï¼šO(N log N)
- äºŒåˆ†æœå°‹ï¼šO(log N)
- ç¸½è¨ˆï¼šO(N log N)

## ğŸ¯ APCS å°æ‡‰èƒ½åŠ›

- **æ’åº**ï¼šAPCS 4 ç´šåˆ†æ ¸å¿ƒèƒ½åŠ›
- **äºŒåˆ†æœå°‹**ï¼šAPCS 4 ç´šåˆ†æ ¸å¿ƒèƒ½åŠ›
- **ç­”æ¡ˆç©ºé–“æœå°‹**ï¼šAPCS 5 ç´šåˆ†é€²éšæŠ€å·§

## ğŸ”— ç›¸é—œé¡Œç›®

- **äº’è£œåœ˜éšŠ**ï¼šé›™æŒ‡æ¨™ + æ’åº
- **åœ“ç’°å‡ºå£**ï¼šç­”æ¡ˆç©ºé–“ä¸Šçš„äºŒåˆ†æœå°‹
